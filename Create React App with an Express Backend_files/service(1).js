!function(e,t){sumo.define("plugins/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,i){i()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,i=!1,n=!0;t[1]||t[7]?i=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?n=!1:t[4]&&(i=parseInt(t[4])<18);var r={};r.pluginBuilder="./css-builder";var o,s=function(){o=document.createElement("style"),e.appendChild(o)},a=function(e,t){s();var i=o.styleSheet||o.sheet;if(i&&i.addImport)i.addImport(e),o.onload=t;else{o.textContent='@import "'+e+'";';var n=setInterval(function(){try{o.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},l=function(t,i){var r=document.createElement("link");if(r.type="text/css",r.rel="stylesheet",n)r.onload=function(){r.onload=function(){},setTimeout(i,7)};else var o=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){if(document.styleSheets[e].href==r.href)return clearInterval(o),i()}},10);r.href=t,e.appendChild(r)};return r.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},r.load=function(e,t,n,r){(i?a:l)(t.toUrl(e+".css"),n)},r}),function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,n=i._,r=Array.prototype,o=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,l=r.slice,u=o.toString,c=o.hasOwnProperty,p=Array.isArray,d=Object.keys,h=Object.create,f=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};void 0===e||e.nodeType?window!=i&&(i._=m):(void 0!==t&&!t.nodeType&&t.exports&&(e=t.exports=m),e._=m),m.VERSION="1.8.3";var g=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,r){return e.call(t,i,n,r)};case 4:return function(i,n,r,o){return e.call(t,i,n,r,o)}}return function(){return e.apply(t,arguments)}},v,y=function(e,t,i){return m.iteratee!==v?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?g(e,t,i):m.isObject(e)?m.matcher(e):m.property(e)};m.iteratee=v=function(e,t){return y(e,t,1/0)};var b=function(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(r=0;r<t;r++)o[r]=arguments[r];return o[t]=n,e.apply(this,o)}},_=function(e){if(!m.isObject(e))return{};if(h)return h(e);f.prototype=e;var t=new f;return f.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,k=w("length"),S=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=x};m.each=m.forEach=function(e,t,i){t=g(t,i);var n,r;if(S(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var o=m.keys(e);for(n=0,r=o.length;n<r;n++)t(e[o[n]],o[n],e)}return e},m.map=m.collect=function(e,t,i){t=y(t,i);for(var n=!S(e)&&m.keys(e),r=(n||e).length,o=Array(r),s=0;s<r;s++){var a=n?n[s]:s;o[s]=t(e[a],a,e)}return o};var $=function(e){var t=function(t,i,n,r){var o=!S(t)&&m.keys(t),s=(o||t).length,a=e>0?0:s-1;for(r||(n=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;n=i(n,t[l],l,t)}return n};return function(e,i,n,r){var o=arguments.length>=3;return t(e,g(i,r,4),n,o)}};m.reduce=m.foldl=m.inject=$(1),m.reduceRight=m.foldr=$(-1),m.find=m.detect=function(e,t,i){var n=S(e)?m.findIndex:m.findKey,r=n(e,t,i);if(void 0!==r&&-1!==r)return e[r]},m.filter=m.select=function(e,t,i){var n=[];return t=y(t,i),m.each(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n},m.reject=function(e,t,i){return m.filter(e,m.negate(y(t)),i)},m.every=m.all=function(e,t,i){t=y(t,i);for(var n=!S(e)&&m.keys(e),r=(n||e).length,o=0;o<r;o++){var s=n?n[o]:o;if(!t(e[s],s,e))return!1}return!0},m.some=m.any=function(e,t,i){t=y(t,i);for(var n=!S(e)&&m.keys(e),r=(n||e).length,o=0;o<r;o++){var s=n?n[o]:o;if(t(e[s],s,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,i,n){return S(e)||(e=m.values(e)),("number"!=typeof i||n)&&(i=0),m.indexOf(e,t,i)>=0},m.invoke=b(function(e,t,i){var n=m.isFunction(t);return m.map(e,function(e){var r=n?t:e[t];return null==r?r:r.apply(e,i)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,i){var n=-1/0,r=-1/0,o,s;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=S(e)?e:m.values(e);for(var a=0,l=e.length;a<l;a++)null!=(o=e[a])&&o>n&&(n=o)}else t=y(t,i),m.each(e,function(e,i,o){((s=t(e,i,o))>r||s===-1/0&&n===-1/0)&&(n=e,r=s)});return n},m.min=function(e,t,i){var n=1/0,r=1/0,o,s;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=S(e)?e:m.values(e);for(var a=0,l=e.length;a<l;a++)null!=(o=e[a])&&o<n&&(n=o)}else t=y(t,i),m.each(e,function(e,i,o){((s=t(e,i,o))<r||s===1/0&&n===1/0)&&(n=e,r=s)});return n},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,i){if(null==t||i)return S(e)||(e=m.values(e)),e[m.random(e.length-1)];var n=S(e)?m.clone(e):m.values(e),r=k(n);t=Math.max(Math.min(t,r),0);for(var o=r-1,s=0;s<t;s++){var a=m.random(s,o),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,t)},m.sortBy=function(e,t,i){var n=0;return t=y(t,i),m.pluck(m.map(e,function(e,i,r){return{value:e,index:n++,criteria:t(e,i,r)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};var E=function(e,t){return function(i,n,r){var o=t?[[],[]]:{};return n=y(n,r),m.each(i,function(t,r){var s=n(t,r,i);e(o,t,s)}),o}};m.groupBy=E(function(e,t,i){m.has(e,i)?e[i].push(t):e[i]=[t]}),m.indexBy=E(function(e,t,i){e[i]=t}),m.countBy=E(function(e,t,i){m.has(e,i)?e[i]++:e[i]=1});var C=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(C):S(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:S(e)?e.length:m.keys(e).length},m.partition=E(function(e,t,i){e[i?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,i){if(!(null==e||e.length<1))return null==t||i?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,i){return l.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},m.last=function(e,t,i){if(!(null==e||e.length<1))return null==t||i?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,i){return l.call(e,null==t||i?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var T=function(e,t,i,n){n=n||[];for(var r=n.length,o=0,s=k(e);o<s;o++){var a=e[o];if(S(a)&&(m.isArray(a)||m.isArguments(a)))if(t)for(var l=0,u=a.length;l<u;)n[r++]=a[l++];else T(a,t,i,n),r=n.length;else i||(n[r++]=a)}return n};m.flatten=function(e,t){return T(e,t,!1)},m.without=b(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,i,n){m.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=y(i,n));for(var r=[],o=[],s=0,a=k(e);s<a;s++){var l=e[s],u=i?i(l,s,e):l;t?(s&&o===u||r.push(l),o=u):i?m.contains(o,u)||(o.push(u),r.push(l)):m.contains(r,l)||r.push(l)}return r},m.union=b(function(e){return m.uniq(T(e,!0,!0))}),m.intersection=function(e){for(var t=[],i=arguments.length,n=0,r=k(e);n<r;n++){var o=e[n];if(!m.contains(t,o)){var s;for(s=1;s<i&&m.contains(arguments[s],o);s++);s===i&&t.push(o)}}return t},m.difference=b(function(e,t){return t=T(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,k).length||0,i=Array(t),n=0;n<t;n++)i[n]=m.pluck(e,n);return i},m.zip=b(m.unzip),m.object=function(e,t){for(var i={},n=0,r=k(e);n<r;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i};var I=function(e){return function(t,i,n){i=y(i,n);for(var r=k(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(i(t[o],o,t))return o;return-1}};m.findIndex=I(1),m.findLastIndex=I(-1),m.sortedIndex=function(e,t,i,n){i=y(i,n,1);for(var r=i(t),o=0,s=k(e);o<s;){var a=Math.floor((o+s)/2);i(e[a])<r?o=a+1:s=a}return o};var A=function(e,t,i){return function(n,r,o){var s=0,a=k(n);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(i&&o&&a)return o=i(n,r),n[o]===r?o:-1;if(r!==r)return o=t(l.call(n,s,a),m.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(n[o]===r)return o;return-1}};m.indexOf=A(1,m.findIndex,m.sortedIndex),m.lastIndexOf=A(-1,m.findLastIndex),m.range=function(e,t,i){null==t&&(t=e||0,e=0),i||(i=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/i),0),r=Array(n),o=0;o<n;o++,e+=i)r[o]=e;return r},m.chunk=function(e,t){if(null==t||t<1)return[];for(var i=[],n=0,r=e.length;n<r;)i.push(l.call(e,n,n+=t));return i};var O=function(e,t,i,n,r){if(!(n instanceof t))return e.apply(i,r);var o=_(e.prototype),s=e.apply(o,r);return m.isObject(s)?s:o};m.bind=b(function(e,t,i){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var n=b(function(r){return O(e,n,t,this,i.concat(r))});return n}),m.partial=b(function(e,t){var i=m.partial.placeholder,n=function(){for(var r=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===i?arguments[r++]:t[a];for(;r<arguments.length;)s.push(arguments[r++]);return O(e,n,this,this,s)};return n}),m.partial.placeholder=m,m.bindAll=b(function(e,t){t=T(t,!1,!1);var i=t.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=t[i];e[n]=m.bind(e[n],e)}}),m.memoize=function(e,t){var i=function(n){var r=i.cache,o=""+(t?t.apply(this,arguments):n);return m.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return i.cache={},i},m.delay=b(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,i){var n,r,o,s,a=0;i||(i={});var l=function(){a=!1===i.leading?0:m.now(),n=null,s=e.apply(r,o),n||(r=o=null)},u=function(){var u=m.now();a||!1!==i.leading||(a=u);var c=t-(u-a);return r=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),a=u,s=e.apply(r,o),n||(r=o=null)):n||!1===i.trailing||(n=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(n),a=0,n=r=o=null},u},m.debounce=function(e,t,i){var n,r,o=function(t,i){n=null,i&&(r=e.apply(t,i))},s=b(function(s){if(n&&clearTimeout(n),i){var a=!n;n=setTimeout(o,t),a&&(r=e.apply(this,s))}else n=m.delay(o,t,this,s);return r});return s.cancel=function(){clearTimeout(n),n=null},s},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},m.once=m.partial(m.before,2),m.restArgs=b;var L=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=function(e,t){var i=N.length,n=e.constructor,r=m.isFunction(n)&&n.prototype||o,s="constructor";for(m.has(e,s)&&!m.contains(t,s)&&t.push(s);i--;)(s=N[i])in e&&e[s]!==r[s]&&!m.contains(t,s)&&t.push(s)};m.keys=function(e){if(!m.isObject(e))return[];if(d)return d(e);var t=[];for(var i in e)m.has(e,i)&&t.push(i);return L&&M(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var i in e)t.push(i);return L&&M(e,t),t},m.values=function(e){for(var t=m.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=e[t[r]];return n},m.mapObject=function(e,t,i){t=y(t,i);for(var n=m.keys(e),r=n.length,o={},s=0;s<r;s++){var a=n[s];o[a]=t(e[a],a,e)}return o},m.pairs=function(e){for(var t=m.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=[t[r],e[t[r]]];return n},m.invert=function(e){for(var t={},i=m.keys(e),n=0,r=i.length;n<r;n++)t[e[i[n]]]=i[n];return t},m.functions=m.methods=function(e){var t=[];for(var i in e)m.isFunction(e[i])&&t.push(i);return t.sort()};var P=function(e,t){return function(i){var n=arguments.length;if(t&&(i=Object(i)),n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];t&&void 0!==i[u]||(i[u]=o[u])}return i}};m.extend=P(m.allKeys),m.extendOwn=m.assign=P(m.keys),m.findKey=function(e,t,i){t=y(t,i);for(var n=m.keys(e),r,o=0,s=n.length;o<s;o++)if(r=n[o],t(e[r],r,e))return r};var D=function(e,t,i){return t in i};m.pick=b(function(e,t){var i={},n=t[0];if(null==e)return i;m.isFunction(n)?(t.length>1&&(n=g(n,t[1])),t=m.allKeys(e)):(n=D,t=T(t,!1,!1),e=Object(e));for(var r=0,o=t.length;r<o;r++){var s=t[r],a=e[s];n(a,s,e)&&(i[s]=a)}return i}),m.omit=b(function(e,t){var i=t[0],n;return m.isFunction(i)?(i=m.negate(i),t.length>1&&(n=t[1])):(t=m.map(T(t,!1,!1),String),i=function(e,i){return!m.contains(t,i)}),m.pick(e,i,n)}),m.defaults=P(m.allKeys,!0),m.create=function(e,t){var i=_(e);return t&&m.extendOwn(i,t),i},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var i=m.keys(t),n=i.length;if(null==e)return!n;for(var r=Object(e),o=0;o<n;o++){var s=i[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var R,B;R=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;if(e!==e)return t!==t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&B(e,t,i,n)},B=function(e,t,i,n){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return s.valueOf.call(e)===s.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var c=i.length;c--;)if(i[c]===e)return n[c]===t;if(i.push(e),n.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!R(e[c],t[c],i,n))return!1}else{var p=m.keys(e),d;if(c=p.length,m.keys(t).length!==c)return!1;for(;c--;)if(d=p[c],!m.has(t,d)||!R(e[d],t[d],i,n))return!1}return i.pop(),n.pop(),!0},m.isEqual=function(e,t){return R(e,t)},m.isEmpty=function(e){return null==e||(S(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=p||function(e){return"[object Array]"===u.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")});var j=i.document&&i.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof j&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){return null!=e&&c.call(e,t)},m.noConflict=function(){return i._=n,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=w,m.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,i){var n=Array(Math.max(0,e));t=g(t,i,1);for(var r=0;r<e;r++)n[r]=t(r);return n},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=m.invert(F),z=function(e){var t=function(t){return e[t]},i="(?:"+m.keys(e).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}};m.escape=z(F),m.unescape=z(q),m.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),m.isFunction(n)?n.call(e):n};var U=0;m.uniqueId=function(e){var t=++U+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,Q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+Q[e]};m.template=function(e,t,i){!t&&i&&(t=i),t=m.defaults({},t,m.templateSettings);var n=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(n,function(t,i,n,s,a){return o+=e.slice(r,a).replace(H,V),r=a+t.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,m)};return a.source="function("+(t.variable||"obj")+"){\n"+o+"}",a},m.chain=function(e){var t=m(e);return t._chain=!0,t};var G=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),function(t){var i=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),G(this,i.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];m.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],G(this,i)}}),m.each(["concat","join","slice"],function(e){var t=r[e];m.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},"function"==typeof sumo.define&&sumo.define.amd&&sumo.define("underscore",[],function(){return m})}(),sumo.define("underscore-lib",function(){}),sumo.define("underscore",["underscore-lib"],function(e){return e.noConflict()}),sumo.define("htmlParser",[],function(){function e(e,s){e=e||"",s=s||{};for(var a in t)t.hasOwnProperty(a)&&(s.autoFix&&(s["fix_"+a]=!0),s.fix=s.fix||s["fix_"+a]);var l=[],u=document.createElement("div"),c=function(e){return"string"==typeof e&&-1!==e.indexOf("&")?(u.innerHTML=e,u.textContent||u.innerText||e):e},p=function(t){e+=t},d=function(t){e=t+e},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},f={comment:function(){var t=e.indexOf("--\x3e");if(t>=0)return{content:e.substr(4,t-1),length:t+3}},endTag:function(){var t=e.match(n);if(t)return{tagName:t[1],length:t[0].length}},atomicTag:function(){var t=f.startTag();if(t){var i=e.slice(t.length);if(i.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=i.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return{tagName:t.tagName,attrs:t.attrs,content:n[1],length:n[0].length+t.length}}}},startTag:function(){if(-1===e.indexOf(">"))return null;var t=e.match(i);if(t){var n={},s={},a=t[2];return t[2].replace(r,function(e,t){if(arguments[2]||arguments[3]||arguments[4]||arguments[5])if(arguments[5])n[arguments[5]]="",s[t]=!0;else{var i=arguments[2]||arguments[3]||arguments[4]||o.test(t)&&t||"";n[t]=c(i)}else n[t]=null;a=a.replace(e,"")}),{tagName:t[1],attrs:n,booleanAttrs:s,rest:a,unary:!!t[3],length:t[0].length}}},chars:function(){var t=e.indexOf("<");return{length:t>=0?t:e.length}}},m=function(){for(var t in h)if(h[t].test(e)){var i=f[t]();return i?(i.type=i.type||t,i.text=e.substr(0,i.length),e=e.slice(i.length),i):null}},g=function(e){for(var t;t=m();)if(e[t.type]&&!1===e[t.type](t))return},v=function(){var t=e;return e="",t},y=function(){return e};return s.fix&&function(){var t=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,i=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,n=[];n.last=function(){return this[this.length-1]},n.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},n.containsTagName=function(e){for(var t=0,i;i=this[t];t++)if(i.tagName===e)return!0;return!1};var r=function(e){return e&&"startTag"===e.type&&(e.unary=t.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e},o=m,a=function(){var t=e,i=r(o());return e=t,i},l=function(){var e=n.pop();d("</"+e.tagName+">")},u={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&n.lastTagNameEq("TABLE")?(d("<TBODY>"),p()):s.fix_selfClose&&i.test(t)&&n.containsTagName(t)?n.lastTagNameEq(t)?l():(d("</"+e.tagName+">"),p()):e.unary||n.push(e)},endTag:function(e){n.last()?s.fix_tagSoup&&!n.lastTagNameEq(e.tagName)?l():n.pop():s.fix_tagSoup&&c()}},c=function(){o(),p()},p=function(){var e=a();e&&u[e.type]&&u[e.type](e)};m=function(){return p(),r(o())}}(),{append:p,readToken:m,readTokens:g,clear:v,rest:y,stack:l}}var t=function(){var e={},t,i=window.document.createElement("div");return t="<P><I></P></I>",i.innerHTML=t,e.tagSoup=i.innerHTML!==t,i.innerHTML="<P><i><P></P></i></P>",e.selfClose=2===i.childNodes.length,e}(),i=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,r=/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,o=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,s=!1;e.supports=t,e.tokenToString=function(e){var t={comment:function(e){return"\x3c!--"+e.content},endTag:function(e){return"</"+e.tagName+">"},atomicTag:function(e){return t.startTag(e)+e.content+t.endTag(e)},startTag:function(e){var t="<"+e.tagName;for(var i in e.attrs){t+=" "+i;var n=e.attrs[i];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[i]||(t+='="'+(n?n.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"')}return e.rest&&(t+=e.rest),t+(e.unary&&!e.html5Unary?"/>":">")},chars:function(e){return e.text}};return t[e.type](e)},e.escapeAttributes=function(e){var t={};for(var i in e){var n=e[i];t[i]=n&&n.replace(/(^|[^\\])"/g,'$1\\"')}return t};for(var a in t)e.browserHasFlaw=e.browserHasFlaw||!t[a]&&a;return e}),sumo.define("postscribe",["htmlParser"],function(e){function t(){}function i(e){return e!==d&&null!==e}function n(e){return"function"==typeof e}function r(e,t,i){var n,r=e&&e.length||0;for(n=0;n<r;n++)t.call(i,e[n],n)}function o(e,t,i){var n;for(n in e)e.hasOwnProperty(n)&&t.call(i,n,e[n])}function s(e,t){return o(t,function(t,i){e[t]=i}),e}function a(e,t){return e=e||{},o(t,function(t,n){i(e[t])||(e[t]=n)}),e}function l(e){try{return f.call(e)}catch(i){var t=[];return r(e,function(e){t.push(e)}),t}}function u(e){return!!(e&&"tagName"in e)&&!!~e.tagName.toLowerCase().indexOf("script")}function c(e){return!!(e&&"tagName"in e)&&!!~e.tagName.toLowerCase().indexOf("style")}var p={afterAsync:t,afterDequeue:t,afterStreamStart:t,afterWrite:t,autoFix:!0,beforeEnqueue:t,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:t,error:function(e){throw e},releaseAsync:!1},d=void 0,h=!1,f=Array.prototype.slice,m=function(e){return e[e.length-1]},g=function(){function t(e,t,n){var r=p+t;if(2===arguments.length){var o=e.getAttribute(r);return i(o)?String(o):o}i(n)&&""!==n?e.setAttribute(r,n):e.removeAttribute(r)}function a(i,n){var r=i.ownerDocument;s(this,{root:i,options:n,win:r.defaultView||r.parentWindow,doc:r,parser:e("",{autoFix:n.autoFix}),actuals:[i],proxyHistory:"",proxyRoot:r.createElement(i.nodeName),scriptStack:[],writeQueue:[]}),t(this.proxyRoot,"proxyof",0)}var p="data-ps-";return a.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var e;!this.deferredRemote&&this.writeQueue.length;)e=this.writeQueue.shift(),n(e)?this.callFunction(e):this.writeImpl(e)},a.prototype.callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this.onScriptStart(t),e.call(this.win,this.doc),this.onScriptDone(t)},a.prototype.writeImpl=function(e){this.parser.append(e);for(var t,i=[],n,r;(t=this.parser.readToken())&&!(n=u(t))&&!(r=c(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);this.writeStaticTokens(i),n&&this.handleScriptToken(t),r&&this.handleStyleToken(t)},a.prototype.writeStaticTokens=function(e){var t=this.buildChunk(e);if(t.actual)return t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this.walkChunk(),t},a.prototype.buildChunk=function(t){var i=this.actuals.length,n=[],o=[],s=[];return r(t,function(t){var r=e.tokenToString(t);if(n.push(r),t.attrs){if(!/^noscript$/i.test(t.tagName)){var a=i++;o.push(r.replace(/(\/?>)/," "+p+"id="+a+" $1")),"ps-script"!==t.attrs.id&&"ps-style"!==t.attrs.id&&s.push("atomicTag"===t.type?"":"<"+t.tagName+" "+p+"proxyof="+a+(t.unary?" />":">"))}}else o.push(r),s.push("endTag"===t.type?r:"")}),{tokens:t,raw:n.join(""),actual:o.join(""),proxy:s.join("")}},a.prototype.walkChunk=function(){for(var e,n=[this.proxyRoot];i(e=n.shift());){var r=1===e.nodeType;if(!(r&&t(e,"proxyof"))){r&&(this.actuals[t(e,"id")]=e,t(e,"id",null));var o=e.parentNode&&t(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}n.unshift.apply(n,l(e.childNodes))}},a.prototype.handleScriptToken=function(e){var t=this.parser.clear();if(t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,e=this.options.beforeWriteToken(e)){e.src&&this.scriptStack.length?this.deferredRemote=e:this.onScriptStart(e);var i=this;this.writeScriptToken(e,function(){i.onScriptDone(e)})}},a.prototype.handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",e=this.options.beforeWriteToken(e),e&&this.writeStyleToken(e),t&&this.write()},a.prototype.writeStyleToken=function(e){var t=this.buildStyle(e);this.insertStyle(t),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},a.prototype.buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),o(e.attrs,function(e,i){t.setAttribute(e,i)}),t},a.prototype.insertStyle=function(e){this.writeImpl('<span id="ps-style"/>');var t=this.doc.getElementById("ps-style");t.parentNode.replaceChild(e,t)},a.prototype.onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},a.prototype.onScriptDone=function(e){if(e!==this.scriptStack[0])return void this.options.error({message:"Bad script nesting or script finished twice"});this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)},a.prototype.writeScriptToken=function(e,t){var i=this.buildScript(e),n=this.shouldRelease(i),r=this.options.afterAsync;e.src&&(i.src=e.src,this.scriptLoadHandler(i,n?r:function(){t(),r()}));try{this.insertScript(i),e.src&&!n||t()}catch(e){this.options.error(e),t()}},a.prototype.buildScript=function(e){var t=this.doc.createElement(e.tagName);return o(e.attrs,function(e,i){t.setAttribute(e,i)}),e.content&&(t.text=e.content),t},a.prototype.insertScript=function(e){this.writeImpl('<span id="ps-script"/>');var t=this.doc.getElementById("ps-script");t&&t.parentNode&&t.parentNode.replaceChild(e,t)},a.prototype.scriptLoadHandler=function(e,t){function i(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){i(),t()}function r(e){i(),o(e),t()}var o=this.options.error;s(e,{onload:function(){n()},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()},onerror:function(){r({message:"remote script failed "+e.src})}})},a.prototype.shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},a}();return{postscribe:function(){function e(){var e=u.shift(),t;e&&(t=m(e),t.afterDequeue(),e.stream=i.apply(null,e),t.afterStreamStart())}function i(i,n,a){function u(e){e=a.beforeWrite(e),c.write(e),a.afterWrite(e)}c=new g(i,a),c.id=o++,c.name=a.name||c.id,r.streams[c.name]=c;var p=i.ownerDocument,d={close:p.close,open:p.open,write:p.write,writeln:p.writeln};s(p,{close:t,open:t,write:function(){return u(l(arguments).join(""))},writeln:function(){return u(l(arguments).join("")+"\n")}});var h=c.win.onerror||t;return c.win.onerror=function(e,t,i){a.error({msg:e+" - "+t+":"+i}),h.apply(c.win,arguments)},c.write(n,function t(){s(p,d),c.win.onerror=h,a.done(),c=null,e()}),c}function r(i,r,o){n(o)&&(o={done:o}),o=a(o,p),i=/^#/.test(i)?window.document.getElementById(i.substr(1)):i.jquery?i[0]:i;var s=[i,r,o];return i.postscribe={cancel:function(){s.stream?s.stream.abort():s[1]=t}},o.beforeEnqueue(s),u.push(s),c||e(),i.postscribe}var o=0,u=[],c=null;return s(r,{streams:{},queue:u,WriteStream:g})}()}}),sumo.define("lib/sumome/sumolist/formsync",["jquery","underscore","postscribe"],function(e,t,i){function n(n,r){this.config=n,this.$syncEl=null;var o={};t.isArray(r)?r.forEach(function(e){e.form_sync_field&&(o[e.field_variable]=e.form_sync_field)}):t.isObject(r)&&(o=t.clone(r)),n.email_field&&(o.email=n.email_field),this.fieldMap=o,this.install=function(t){this.fields=t,this.$syncEl=e('<div class="sumo-formsync" />'),this.$syncEl.hide(),this.$syncEl.appendTo(document.body),i.postscribe(this.$syncEl.get(0),this.config.snippet)},this.remove=function(){this.$syncEl&&(this.$syncEl.remove(),this.$syncEl=null)},this.submit=function(e){if(this.$syncEl){var t=this.$syncEl.find("form");if(t.length){t.prop("novalidate",!0),t.replaceWith(t.clone(!1)),t=this.$syncEl.find("form");var i=this;t.on("submit",function(){window.setTimeout(function(){i.remove()},1e4)}),this.$fieldsEl=this.$syncEl.find("input, select");for(var n in this.fields)n in this.fieldMap&&this.setFieldValue(this.fieldMap[n],this.fields[n].value);var r=t.find('input[type="submit"]');r.length||(r=t.find('button[type="submit"]')),r.get(0)?r.trigger("click"):t.trigger("submit")}else if(void 0===e||e<20){var i=this;window.setTimeout(function(){i.submit((e||0)+1)},500)}}},this.setFieldValue=function(t,i){var n=this.$fieldsEl.filter(function(){return e(this).attr("name")===t});if(n.is("input")){switch((n.attr("type")||"").toLowerCase()){case"email":case"password":case"text":case"hidden":n.val(i);break;case"checkbox":case"radio":n.filter(function(){return e(this).val().toLowerCase()===i.toLowerCase()}).prop("checked",!0)}}else n.is("select")&&n.val(i)}}return n}),sumo.define("jquery.fontObserver",["jquery"],function(e){fontface=function(){},fontface.Ruler=function(e){var t="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.element=document.createElement("div"),this.element.setAttribute("aria-hidden","true"),this.element.appendChild(document.createTextNode(e)),this.collapsible=document.createElement("span"),this.expandable=document.createElement("span"),this.collapsibleInner=document.createElement("span"),this.expandableInner=document.createElement("span"),this.lastOffsetWidth=-1,this.collapsible.cssText=t,this.expandable.cssText=t,this.expandableInner.cssText=t,this.collapsibleInner.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.collapsible.appendChild(this.collapsibleInner),this.expandable.appendChild(this.expandableInner),this.element.appendChild(this.collapsible),this.element.appendChild(this.expandable)
};var t=fontface.Ruler;t.prototype.getElement=function(){return this.element},t.prototype.setFont=function(e){this.element.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+e+";"},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){this.element.style.width=e+"px"},t.prototype.reset=function(){var e=this.getWidth(),t=e+100;return this.expandableInner.style.width=t+"px",this.expandable.scrollLeft=t,this.collapsible.scrollLeft=this.collapsible.scrollWidth+100,this.lastOffsetWidth!==e&&(this.lastOffsetWidth=e,!0)},t.prototype.onScroll=function(e){this.reset()&&null!==this.element.parentNode&&e(this.lastOffsetWidth)},t.prototype.onResize=function(t){function i(){n.onScroll(t)}var n=this;e(this.collapsible).on("scroll",i),e(this.expandable).on("scroll",i),this.reset()};var t=fontface.Ruler;fontface.Observer=function(e,t){var i=t||{};this.family=e,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"};var i=fontface.Observer;return i.HAS_WEBKIT_FALLBACK_BUG=null,i.SUPPORTS_STRETCH=null,i.SUPPORTS_NATIVE=!!window.FontFace,i.DEFAULT_TIMEOUT=3e3,i.getUserAgent=function(){return window.navigator.userAgent},i.hasWebKitFallbackBug=function(){if(null===i.HAS_WEBKIT_FALLBACK_BUG){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(i.getUserAgent());i.HAS_WEBKIT_FALLBACK_BUG=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)}return i.HAS_WEBKIT_FALLBACK_BUG},i.supportStretch=function(){if(null===i.SUPPORTS_STRETCH){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}i.SUPPORTS_STRETCH=""!==e.style.font}return i.SUPPORTS_STRETCH},i.prototype.getStyle=function(e){return[this.style,this.weight,i.supportStretch()?this.stretch:"","100px",e].join(" ")},i.prototype.getTime=function(){return(new Date).getTime()},i.prototype.load=function(n,r){var o=this,s=n||"BESbswy",a=r||i.DEFAULT_TIMEOUT,l=o.getTime();return new Promise(function(n,r){if(i.SUPPORTS_NATIVE){var u=new Promise(function(e,t){var i=function(){o.getTime()-l>=a?t():document.fonts.load(o.getStyle(o.family),s).then(function(t){t.length>=1?e():setTimeout(i,25)},function(){t()})};i()}),c=new Promise(function(e,t){setTimeout(t,a)});Promise.race([c,u]).then(function(){n(o)},function(){r(o)})}else e(document).ready(function(){function e(){null!==_.parentNode&&_.parentNode.removeChild(_)}function u(){if((-1!=f&&-1!=m||-1!=f&&-1!=g||-1!=m&&-1!=g)&&(f==m||f==g||m==g)){if(i.hasWebKitFallbackBug()&&(f==v&&m==v&&g==v||f==y&&m==y&&g==y||f==b&&m==b&&g==b))return;e(),clearTimeout(w),n(o)}}function c(){if(o.getTime()-l>=a)e(),r(o);else{var t=document.hidden;!0!==t&&void 0!==t||(f=p.getWidth(),m=d.getWidth(),g=h.getWidth(),u()),w=setTimeout(c,50)}}var p=new t(s),d=new t(s),h=new t(s),f=-1,m=-1,g=-1,v=-1,y=-1,b=-1,_=document.createElement("div"),w=0;_.dir="ltr",p.setFont(o.getStyle("sans-serif")),d.setFont(o.getStyle("serif")),h.setFont(o.getStyle("monospace")),_.appendChild(p.getElement()),_.appendChild(d.getElement()),_.appendChild(h.getElement()),document.body.appendChild(_),v=p.getWidth(),y=d.getWidth(),b=h.getWidth(),c(),p.onResize(function(e){f=e,u()}),p.setFont(o.getStyle('"'+o.family+'",sans-serif')),d.onResize(function(e){m=e,u()}),d.setFont(o.getStyle('"'+o.family+'",serif')),h.onResize(function(e){g=e,u()}),h.setFont(o.getStyle('"'+o.family+'",monospace'))})})},fontface.Observer}),sumo.define("JSON",[],function(){var e=null;try{var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),e=t.contentWindow.JSON}catch(e){}return e||JSON}),sumo.define("articles",[],function(){var e=[],t=["[class^=comment]","[id^=comment]","[class*=footer]","[class^=comment]",".archive-page",".aside",".hentry-metro",".hrf-entry"],i=[".sidebar:not(body)","aside","#sidebar","footer","[class*=footer]:not(body):not([class*=not-footer])","#comments","#livefyre-comments","[class^=fyre]","[id^=comment]","[class*=related-post]:not(body)",".tve-leads-lightbox"],n=[];return{_invalidateNode:function(e){if(e&&"#text"!==e.nodeName&&(n.push(e),e.childNodes&&e.childNodes.length>0))for(var t=0;t<e.childNodes.length;t++)this._invalidateNode(e.childNodes[t])},_findInvalidElements:function(e){for(var t=0;t<i.length;t++)for(var n=i[t],r=e.querySelectorAll(n),o=0;o<r.length;o++)this._invalidateNode(r[o])},_findAnchor:function(e){for(var t=null,i=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],n=0;n<i.length;n++){var r=i[n],o=e.querySelector(r+"[href]");if(o)return o[0]}return null},_findFooter:function(e){for(var t=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not([class^=comment-count]):not([class^=comments-link]):not([class^=comments-number]):not(li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],i=[".post-meta-info"],n=0;n<t.length;n++){var r=t[n],o=e.querySelector(r);if(o){if(o.classList.contains("fb-comments")){for(var s=o,a=o,l=!1;null!==a.previousElementSibling;){if("P"===a.nodeName&&"H3"===a.previousElementSibling.nodeName){l=!0,a=a.previousElementSibling;break}a=a.previousElementSibling}if(l){for(;null!==a.previousElementSibling;)if(a=a.previousElementSibling,"H3"===a.nodeName)return a;return s}return s}return o}}return null},_findHeader:function(e){for(var t=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],i=0;i<t.length;i++){var n=t[i],r=e.querySelector(n);if(r)return r}return null},_validateArticles:function(e){if(!e||!e.length)return[];for(var t=[],i=0;i<e.length;i++){var r=e[i],o=!0;if(""!==r.innerText.trim()){for(var s=0;s<n.length;s++)r===n[s]&&(o=!1);if(o){r.__header||(r.__header=this._findHeader(r)),r.__title=r.__header?r.__header:null,r.__footer=this._findFooter(r),self._title&&(r.__titleText=self.__title.innerText());var a=r.__header&&r.__header.length?this._findAnchor(r.__header[0]):null;r.__anchor=a||this._findAnchor(r),r.__anchor?r.__url=r.__anchor.getAttribute("href"):r.__url=null,r.__url||(r.__url=window.location.href),t.push(r)}}}return t},_findLeaves:function(e,i){for(var n=i,r=0;r<t.length;r++)n+=":not("+t[r]+")";return e.querySelectorAll(n)||[]},findAll:function(){var t=document.querySelector('main, [role="main"]'),i=t||document.body;e.push("article"),e.push(".post"),e.push(".entry-content"),e.push(".post-content"),e.push(".post_box"),e.push(".post-item"),e.push(".blog-post-wrapper"),e.push(".type-post"),e.push("#content"),e.push(".blog_content"),i===document.body?(e.push("main .hentry"),e.push("[role=main] .hentry"),e.push("main .content"),e.push("[role=main] .content")):(e.push(".hentry"),e.push(".content")),e.push("#post-content"),e.push("#blog-content"),e.push(".blog-post"),this._findInvalidElements(i);for(var n=0;n<e.length;n++){var r=this._findLeaves(i,e[n]),o=this._validateArticles(r);if(o.length>0)return o}var s=document.querySelectorAll("p"),r=[];if(s&&s.length){for(var n=0;n<s.length;n++){var a=s[n].parentNode;if(!(r.indexOf(a)>-1)){for(var l=a.childNodes,u=!1,c=0,p=0;p<l.length;p++)if("P"===l[p].tagName&&c++,c>=3){u=!0;break}u&&r.push(a)}}var o=this._validateArticles(r);if(o.length>0)return o}return[]},find:function(){var e=this.findAll();return e&&e.length?e[0]:null},hasArticles:function(){return this.findAll().length>=1}}}),function(){var i;i=function(e){var t,i;return t=!1,e(function(){var n;return n=(document.body||document.documentElement).style,t=void 0!==n.animation||void 0!==n.WebkitAnimation||void 0!==n.MozAnimation||void 0!==n.MsAnimation||void 0!==n.OAnimation,e(window).bind("resize.vex",function(e){if(!e||"resize"!=e.type||e.target==window)return i.resize()}),e(window).bind("keyup.vex",function(e){if(27===e.keyCode)return i.closeByEscape()})}),i={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",openClassName:"",closeCSS:{},allowBackgroundScrolling:!1},open:function(t){return t=e.extend({},i.defaultOptions,t),t.id=i.globalID,i.globalID+=1,t.$vex=e("<div>").addClass(i.baseClassNames.vex).addClass(t.className).css(t.css).data({vex:t}),t.openClassName&&t.$vex.addClass(t.openClassName),t.allowBackgroundScrolling||i.setupHTMLClassName(t.$vex),t.$vexOverlay=e("<div>").addClass(i.baseClassNames.overlay).addClass(t.overlayClassName).css(t.overlayCSS).data({vex:t}),t.overlayClosesOnClick&&t.$vexOverlay.bind("click.vex",function(t){if(t.target===this)return i.close(e(this).data().vex.id)}),t.$vex.append(t.$vexOverlay),t.$vexContent=e("<div>").addClass(i.baseClassNames.content).addClass(t.contentClassName).css(t.contentCSS).append(t.content).data({vex:t}),t.$vexContent.find("link").bind("load.vex",function(e){return i.resize()}),t.$vexContent.bind("resize.vex",function(e){return i.resize()}),t.$vex.append(t.$vexContent),t.customCloseButton?t.showCloseButton&&(t.$closeButton=t.$vexContent.find("."+t.closeClassName).eq(0).data({vex:t}).bind("click.vex",function(){return i.close(e(this).data().vex.id)})):t.showCloseButton&&(t.$closeButton=e("<div>").addClass(i.baseClassNames.close).addClass(t.closeClassName).css(t.closeCSS).data({vex:t}).bind("click.vex",function(){return i.close(e(this).data().vex.id)}),t.$vexContent.append(t.$closeButton)),e(t.appendLocation).append(t.$vex),t.afterOpen&&t.afterOpen(t.$vexContent,t),setTimeout(function(){return t.$vexContent.trigger("vexOpen",t)},0),t.$vexContent},getAllVexes:function(){return e("."+i.baseClassNames.vex+':not(".'+i.baseClassNames.closing+'") .'+i.baseClassNames.content)},getVexByID:function(t){return i.getAllVexes().filter(function(){return e(this).data().vex.id===t})},close:function(e){var t;if(!e){if(t=i.getAllVexes().last(),!t.length)return!1;e=t.data().vex.id}return i.closeByID(e)},closeAll:function(){var t;return t=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==t||!t.length)&&(e.each(t.reverse(),function(e,t){return i.closeByID(t)}),!0)},closeByID:function(n){var r,o,s,a,l;if(o=i.getVexByID(n),o.length)return r=o.data().vex.$vex,l=e.extend({},o.data().vex),s=function(){if(l.beforeClose)return l.beforeClose(o,l)},a=function(){if(o.trigger("vexClose",l),r.remove(),l.afterClose)return l.afterClose(o,l)},t?(s(),r.unbind(i.animationEndEvent).bind(i.animationEndEvent,function(){return a()}).addClass(i.baseClassNames.closing)):(s(),a()),!0},resizeByID:function(t){var n,r,o,s,a;if(r=i.getVexByID(t),r.length)return n=r.data().vex.$vex,a=e.extend({},r.data().vex),r.trigger("vexResize",a),!0},resize:function(){var t,n,r;return r=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==r||!r.length)&&(n=Math.max.apply(Math,r),t=i.getVexByID(n),i.resizeByID(n))},closeByEscape:function(){var t,n,r;return r=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),!(null==r||!r.length)&&(n=Math.max.apply(Math,r),t=i.getVexByID(n),!0===t.data().vex.escapeButtonCloses&&i.closeByID(n))},setupHTMLClassName:function(t){return t.bind("vexOpen.vex",function(){return e("html").addClass(i.baseClassNames.open)}).bind("vexClose.vex",function(){if(!i.getAllVexes().length)return e("html").removeClass(i.baseClassNames.open)})},hideLoading:function(){return e(".vex-loading-spinner").remove()},showLoading:function(){return i.hideLoading(),e("body").append('<div class="vex-loading-spinner '+i.defaultOptions.className+'"></div>')}}},"function"==typeof sumo.define&&sumo.define.amd?sumo.define("vex",["jquery"],i):"object"==typeof e?t.exports=i(require("jquery")):window.vex=i(jQuery)}.call(this),sumo.define("pixel-helpers",[],function(){return{injectVars:function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=new RegExp("\\{\\s*sumome-"+i+"\\s*\\}","g");e=e.replace(n,t[i])}return e}}}),function(e){"function"==typeof sumo.define&&sumo.define.amd?sumo.define("jquery.cookie",["jquery"],e):e(jQuery)}(function(e){function t(e){return a.raw?e:encodeURIComponent(e)}function i(e){return a.raw?e:decodeURIComponent(e)}function n(e){return t(a.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{e=decodeURIComponent(e.replace(s," "))}catch(e){return}try{return a.json?JSON.parse(e):e}catch(e){}}function o(t,i){var n=a.raw?t:r(t);return e.isFunction(i)?i(n):n}var s=/\+/g,a=e.cookie=function(r,s,l){if(void 0!==s&&!e.isFunction(s)){if(l=e.extend({},a.defaults,l),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setDate(c.getDate()+u)}return document.cookie=[t(r),"=",n(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var p=r?void 0:{},d=document.cookie?document.cookie.split("; "):[],h=0,f=d.length;h<f;h++){var m=d[h].split("="),g=i(m.shift()),v=m.join("=");if(r&&r===g){p=o(v,s);break}r||void 0===(v=o(v))||(p[g]=v)}return p};a.defaults={},e.removeCookie=function(t,i){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},i,{expires:-1})),!0)}}),sumo.define("countries",[],function(){return["Afghanistan","Åland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua And Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia, Plurinational State Of","Bonaire, Sint Eustatius And Saba","Bosnia And Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic Of The","Cook Islands","Costa Rica","Côte D'ivoire","Croatia","Cuba","Curaçao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-bissau","Guyana","Haiti","Heard Island And Mcdonald Islands","Holy See (vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic Of","Iraq","Ireland","Isle Of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic Of","Korea, Republic Of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, The Former Yugoslav Republic Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States Of","Moldova, Republic Of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State Of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Réunion","Romania","Russian Federation","Rwanda","Saint Barthélemy","Saint Helena, Ascension And Tristan Da Cunha","Saint Kitts And Nevis","Saint Lucia","Saint Martin (french Part)","Saint Pierre And Miquelon","Saint Vincent And The Grenadines","Samoa","San Marino","Sao Tome And Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (dutch Part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia And The South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard And Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province Of China","Tajikistan","Tanzania, United Republic Of","Thailand","Timor-leste","Togo","Tokelau","Tonga","Trinidad And Tobago","Tunisia","Turkey","Turkmenistan","Turks And Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela, Bolivarian Republic Of","Viet Nam","Virgin Islands, British","Virgin Islands, U.s.","Wallis And Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"]}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,n="undefined"!=typeof location&&location.href,r=n&&location.protocol&&location.protocol.replace(/\:/,""),o=n&&location.hostname,s=n&&(location.port||void 0),a=[];sumo.define("plugins/text",[],function(){var l,u,c;return"undefined"!=typeof window&&window.navigator&&window.document?u=function(e,t){var i=l.createXhr();i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),u=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(u=function(e,t){var i=new java.io.File(e),n=java.lang.System.getProperty("line.separator"),i=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),r,o,s="";try{for(r=new java.lang.StringBuffer,(o=i.readLine())&&o.length()&&65279===o.charAt(0)&&(o=o.substring(1)),r.append(o);null!==(o=i.readLine());)r.append(n),r.append(o);s=String(r.toString())}finally{i.close()}t(s)}),l={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),n=e.match(i);n&&(e=n[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,i,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(i=0;i<3;i++){n=e[i];try{t=new ActiveXObject(n)}catch(e){}if(t){e=[n];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:u,parseName:function(e){var t=!1,i=e.indexOf("."),n=e.substring(0,i),e=e.substring(i+1,e.length),i=e.indexOf("!");return-1!==i&&(t=e.substring(i+1,e.length),t="strip"===t,e=e.substring(0,i)),{moduleName:n,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,n){var r=l.xdRegExp.exec(e),o;return!r||(e=r[2],r=r[3],r=r.split(":"),o=r[1],r=r[0],!(e&&e!==t||r&&r!==i||(o||r)&&o!==n))},finishLoad:function(e,t,i,n,r){i=t?l.strip(i):i,r.isBuild&&(a[e]=i),n(i)},load:function(e,t,i,a){if(a.isBuild&&!a.inlineText)i();else{var u=l.parseName(e),c=u.moduleName+"."+u.ext,p=t.toUrl(c),d=a&&a.text&&a.text.useXhr||l.useXhr;!n||d(p,r,o,s)?l.get(p,function(t){l.finishLoad(e,u.strip,t,i,a)}):t([c],function(e){l.finishLoad(u.moduleName+"."+u.ext,u.strip,e,i,a)})}},write:function(e,t,i){if(t in a){var n=l.jsEscape(a[t]);i.asModule(e+"!"+t,"define(function () { return '"+n+"';});\n")}},writeFile:function(e,t,i,n,r){var t=l.parseName(t),o=t.moduleName+"."+t.ext,s=i.toUrl(t.moduleName+"."+t.ext)+".js";l.load(o,i,function(){var t=function(e){return n(s,e)};t.asModule=function(e,t){return n.asModule(e,s,t)},l.write(e,o,t,r)},r)}}})}(),sumo.define("plugins/text!8dc42610-ae42-4164-90b1-573478b46574/templates/email_popup.html",[],function(){return'<div class="sumome-popup-form">\n  <h2 class="sumome-popup-heading"></h2>\n  <div class="sumome-popup-text"></div>\n  <div class="sumome-popup-error"></div>\n  <input class="sumome-popup-input" type="text" value="" autofocus name="listbuilder_email_address" id="listbuilder_email_address" placeholder="Enter your email address" />\n  <button class="sumome-popup-button sumome-popup-button-bg sumome-popup-button-text" type="submit">Subscribe Me</button>\n  <button class="sumome-popup-continue sumome-popup-continue-bg sumome-popup-continue-text" type="submit" style="display:none;">Continue</button>\n</div>'});var i={email:"Email",name:"Name",first_name:"First Name",last_name:"Last Name",company:"Company",zip:"Zip Code",website:"Website URL",phone:"Phone"};"undefined"!=typeof sumo&&"function"==typeof sumo.define?sumo.define("8dc42610-ae42-4164-90b1-573478b46574/fields",[],function(){return i}):void 0!==t&&t.exports&&(t.exports=i),sumo.define("countdown",[],function(){var e;return function(e){"use strict";function t(e,t){var i=e.getTime();return e.setMonth(e.getMonth()+t),Math.round((e.getTime()-i)/O)}function i(e){var t=e.getTime(),i=new Date(t);return i.setMonth(e.getMonth()+1),Math.round((i.getTime()-t)/O)}function n(e){var t=e.getTime(),i=new Date(t);return i.setFullYear(e.getFullYear()+1),Math.round((i.getTime()-t)/O)}function r(e,t){if(t=t instanceof Date||null!==t&&isFinite(t)?new Date(+t):new Date,!e)return t;var i=+e.value||0;return i?(t.setTime(t.getTime()+i),t):(i=+e.milliseconds||0,i&&t.setMilliseconds(t.getMilliseconds()+i),i=+e.seconds||0,i&&t.setSeconds(t.getSeconds()+i),i=+e.minutes||0,i&&t.setMinutes(t.getMinutes()+i),i=+e.hours||0,i&&t.setHours(t.getHours()+i),i=+e.weeks||0,i&&(i*=L),i+=+e.days||0,i&&t.setDate(t.getDate()+i),i=+e.months||0,i&&t.setMonth(t.getMonth()+i),i=+e.millennia||0,i&&(i*=D),i+=+e.centuries||0,i&&(i*=P),i+=+e.decades||0,i&&(i*=M),i+=+e.years||0,i&&t.setFullYear(t.getFullYear()+i),t)}function o(e,t){return ie(e)+(1===e?Y[t]:Z[t])}function s(){}function a(e,t){switch(t){case"seconds":if(e.seconds!==T||isNaN(e.minutes))return;e.minutes++,e.seconds=0;case"minutes":if(e.minutes!==I||isNaN(e.hours))return;e.hours++,e.minutes=0;case"hours":if(e.hours!==A||isNaN(e.days))return;e.days++,e.hours=0;case"days":if(e.days!==L||isNaN(e.weeks))return;e.weeks++,e.days=0;case"weeks":if(e.weeks!==i(e.refMonth)/L||isNaN(e.months))return;e.months++,e.weeks=0;case"months":if(e.months!==N||isNaN(e.years))return;e.years++,e.months=0;case"years":if(e.years!==M||isNaN(e.decades))return;e.decades++,e.years=0;case"decades":if(e.decades!==P||isNaN(e.centuries))return;e.centuries++,e.decades=0;case"centuries":if(e.centuries!==D||isNaN(e.millennia))return;e.millennia++,e.centuries=0}}function l(e,t,i,n,r,o){return e[i]>=0&&(t+=e[i],delete e[i]),t/=r,t+1<=1?0:e[n]>=0?(e[n]=+(e[n]+t).toFixed(o),a(e,n),0):t}function u(e,t){var r=l(e,0,"milliseconds","seconds",C,t);if(r&&(r=l(e,r,"seconds","minutes",T,t))&&(r=l(e,r,"minutes","hours",I,t))&&(r=l(e,r,"hours","days",A,t))&&(r=l(e,r,"days","weeks",L,t))&&(r=l(e,r,"weeks","months",i(e.refMonth)/L,t))&&(r=l(e,r,"months","years",n(e.refMonth)/i(e.refMonth),t))&&(r=l(e,r,"years","decades",M,t))&&(r=l(e,r,"decades","centuries",P,t))&&(r=l(e,r,"centuries","millennia",D,t)))throw new Error("Fractional unit overflow")}function c(e){var i;for(e.milliseconds<0?(i=R(-e.milliseconds/C),e.seconds-=i,e.milliseconds+=i*C):e.milliseconds>=C&&(e.seconds+=B(e.milliseconds/C),e.milliseconds%=C),e.seconds<0?(i=R(-e.seconds/T),e.minutes-=i,e.seconds+=i*T):e.seconds>=T&&(e.minutes+=B(e.seconds/T),e.seconds%=T),e.minutes<0?(i=R(-e.minutes/I),e.hours-=i,e.minutes+=i*I):e.minutes>=I&&(e.hours+=B(e.minutes/I),e.minutes%=I),e.hours<0?(i=R(-e.hours/A),e.days-=i,e.hours+=i*A):e.hours>=A&&(e.days+=B(e.hours/A),e.hours%=A);e.days<0;)e.months--,e.days+=t(e.refMonth,1);e.days>=L&&(e.weeks+=B(e.days/L),e.days%=L),e.months<0?(i=R(-e.months/N),e.years-=i,e.months+=i*N):e.months>=N&&(e.years+=B(e.months/N),e.months%=N),e.years>=M&&(e.decades+=B(e.years/M),e.years%=M,e.decades>=P&&(e.centuries+=B(e.decades/P),e.decades%=P,e.centuries>=D&&(e.millennia+=B(e.centuries/D),e.centuries%=D)))}function p(e,i,n,r){var o=0;!(i&$)||o>=n?(e.centuries+=e.millennia*D,delete e.millennia):e.millennia&&o++,!(i&S)||o>=n?(e.decades+=e.centuries*P,delete e.centuries):e.centuries&&o++,!(i&k)||o>=n?(e.years+=e.decades*M,delete e.decades):e.decades&&o++,!(i&x)||o>=n?(e.months+=e.years*N,delete e.years):e.years&&o++,!(i&w)||o>=n?(e.months&&(e.days+=t(e.refMonth,e.months)),delete e.months,e.days>=L&&(e.weeks+=B(e.days/L),e.days%=L)):e.months&&o++,!(i&_)||o>=n?(e.days+=e.weeks*L,delete e.weeks):e.weeks&&o++,!(i&b)||o>=n?(e.hours+=e.days*A,delete e.days):e.days&&o++,!(i&y)||o>=n?(e.minutes+=e.hours*I,delete e.hours):e.hours&&o++,!(i&v)||o>=n?(e.seconds+=e.minutes*T,delete e.minutes):e.minutes&&o++,!(i&g)||o>=n?(e.milliseconds+=e.seconds*C,delete e.seconds):e.seconds&&o++,i&m&&!(o>=n)||u(e,r)}function d(e,t,i,n,r,o){var s=new Date;if(e.start=t=t||s,e.end=i=i||s,e.units=n,e.value=i.getTime()-t.getTime(),e.value<0){var a=i;i=t,t=a}e.refMonth=new Date(t.getFullYear(),t.getMonth(),15,12,0,0);try{e.millennia=0,e.centuries=0,e.decades=0,e.years=i.getFullYear()-t.getFullYear(),e.months=i.getMonth()-t.getMonth(),e.weeks=0,e.days=i.getDate()-t.getDate(),e.hours=i.getHours()-t.getHours(),e.minutes=i.getMinutes()-t.getMinutes(),e.seconds=i.getSeconds()-t.getSeconds(),e.milliseconds=i.getMilliseconds()-t.getMilliseconds(),c(e),p(e,n,r,o)}finally{delete e.refMonth}return e}function h(e){return e&m?C/30:e&g?C:e&v?C*T:e&y?C*T*I:e&b?C*T*I*A:C*T*I*A*L}function f(e,t,i,n,o){var a;i=+i||E,n=n>0?n:NaN,o=o>0?o<20?Math.round(o):20:0;var l=null;"function"==typeof e?(a=e,e=null):e instanceof Date||(null!==e&&isFinite(e)?e=new Date(+e):("object"==typeof l&&(l=e),e=null));var u=null;if("function"==typeof t?(a=t,t=null):t instanceof Date||(null!==t&&isFinite(t)?t=new Date(+t):("object"==typeof t&&(u=t),t=null)),l&&(e=r(l,t)),u&&(t=r(u,e)),!e&&!t)return new s;if(!a)return d(new s,e,t,i,n,o);var c=h(i),p,f=function(){a(d(new s,e,t,i,n,o),p)};return f(),p=setInterval(f,c)}var m=1,g=2,v=4,y=8,b=16,_=32,w=64,x=128,k=256,S=512,$=1024,E=x|w|b|y|v|g,C=1e3,T=60,I=60,A=24,O=A*I*T*C,L=7,N=12,M=10,P=10,D=10,R=Math.ceil,B=Math.floor,j=0,F=1,q=2,z=3,U=4,W=5,Q=6,H=7,V=8,G=9,K=10,Y,Z,X,J,ee,te,ie,ne;s.prototype.toString=function(e){var t=ne(this),i=t.length;if(!i)return e?""+e:ee;if(1===i)return t[0];var n=X+t.pop();return t.join(J)+n},s.prototype.toHTML=function(e,t){e=e||"span";var i=ne(this),n=i.length;if(!n)return t=t||ee,t?"<"+e+">"+t+"</"+e+">":t;for(var r=0;r<n;r++)i[r]="<"+e+">"+i[r]+"</"+e+">";if(1===n)return i[0];var o=X+i.pop();return i.join(J)+o},s.prototype.addTo=function(e){return r(this,e)},ne=function(e){var t=[],i=e.millennia;return i&&t.push(te(i,10)),i=e.centuries,i&&t.push(te(i,9)),i=e.decades,i&&t.push(te(i,8)),i=e.years,i&&t.push(te(i,7)),i=e.months,i&&t.push(te(i,6)),i=e.weeks,i&&t.push(te(i,5)),i=e.days,i&&t.push(te(i,4)),i=e.hours,i&&t.push(te(i,3)),i=e.minutes,i&&t.push(te(i,2)),i=e.seconds,i&&t.push(te(i,1)),i=e.milliseconds,i&&t.push(te(i,0)),t},f.MILLISECONDS=m,f.SECONDS=g,f.MINUTES=v,f.HOURS=y,f.DAYS=b,f.WEEKS=_,f.MONTHS=w,f.YEARS=x,f.DECADES=k,f.CENTURIES=S,f.MILLENNIA=$,f.DEFAULTS=E,f.ALL=$|S|k|x|w|_|b|y|v|g|m;var re=f.setFormat=function(e){if(e){if("singular"in e||"plural"in e){var t=e.singular||[];t.split&&(t=t.split("|"));var i=e.plural||[];i.split&&(i=i.split("|"));for(var n=0;n<=10;n++)Y[n]=t[n]||Y[n],Z[n]=i[n]||Z[n]}"string"==typeof e.last&&(X=e.last),"string"==typeof e.delim&&(J=e.delim),"string"==typeof e.empty&&(ee=e.empty),"function"==typeof e.formatNumber&&(ie=e.formatNumber),"function"==typeof e.formatter&&(te=e.formatter)}},oe=f.resetFormat=function(){Y=" millisecond| second| minute| hour| day| week| month| year| decade| century| millennium".split("|"),Z=" milliseconds| seconds| minutes| hours| days| weeks| months| years| decades| centuries| millennia".split("|"),X=" and ",J=", ",ee="",ie=function(e){return e},te=o};return f.setLabels=function(e,t,i,n,r,o,s){re({singular:e,plural:t,last:i,delim:n,empty:r,formatNumber:o,formatter:s})},f.resetLabels=oe,oe(),e&&e.exports?e.exports=f:"function"==typeof window.define&&void 0!==window.define.amd&&window.define("countdown",[],function(){return f}),f}(void 0)}),sumo.define("sumocountdown",["jquery","countdown"],function(e,t){function i(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function n(t,i,n,s){var l=t.html()||"",u=new Date(i).toString(),c=s?s.data("interval"):null;c?clearInterval(y[c]):c=a(),n||(n=g);var s=e('<span class="sumome-countdown-timer" data-end="'+i+'" data-interval="'+c+'" data-format="'+n+'"></span>');return l=l.split(m),1==l.length&&l[0].length>0&&(l[0]=l[0]+"&nbsp;"),l.splice(1,0,s[0].outerHTML),l=l.join(""),t.empty(),t.html(l),s=t.find(".sumome-countdown-timer").length?t.find(".sumome-countdown-timer"):s,s.bind("destroyed",function(){r(s)}),o(s),s}function r(e){var t=e.data("interval");clearInterval(y[t]),delete y[t]}function o(e,t){if(e){var i=e.data("interval"),n=e.data("end"),r=e.data("format");t&&(i=a(),e.data("interval",i)),clearInterval(y[i]);var o=function t(){var o=l(n);e.html(c(o,r)),o.value<=0&&clearInterval(y[i])};o(),y[i]=setInterval(o,1e3)}}function s(e){var t=e.data("interval");clearInterval(y[t])}function a(){return Math.random().toString().replace(".","")}function l(e){var i=new Date,n=new Date(e);return t(i,n)}function u(e,t){return 1!=t&&(e+="s"),e}function c(e,t){if(e.value<=0)for(var i in e)e[i]=0;var n=t;if(n=n.replace("yy",d(e.years)),n=n.replace("MM",d(e.months)),n=n.replace("dd",d(e.days)),n=n.replace("HH",f(e)),n=n.replace("hh",d(e.hours)),n=n.replace("mm",d(e.minutes)),n=n.replace("ss",d(e.seconds)),h(t.toLowerCase(),"uu")&&h(t.toLowerCase(),"nn")&&!h(t,"HH")){for(var r=t.toLowerCase().indexOf("uu"),o=t.toLowerCase().indexOf("nn"),s=r<o?r:o,a=r>o?r+2:o+2,l=t.substring(s,a),u="",c=0;a+c<t.length;c++){var m=t.substring(a+c+0,a+c+1),g=t.substring(a+c+1,a+c+2);if(v[m+g])break;u+=m}l+=u;var y="";h(t,"ss")||(y=(e.value>59e3?"and ":"")+p(e.seconds,v.ss,l)+y),e.minutes&&!h(t,"mm")&&(y=p(e.minutes,v.mm,l)+y),e.hours&&!h(t,"hh")&&(y=p(e.hours,v.hh,l)+y),e.days&&!h(t,"dd")&&(y=p(e.days,v.dd,l)+y),e.months&&!h(t,"MM")&&(y=p(e.months,v.MM,l)+y),e.years&&!h(t,"yy")&&(y=p(e.years,v.yy,l)+y),h(t,"ss")||h(t,"mm")||h(t,"hh")||(y=y.slice(0,-1*u.length)),n=n.replace(l,y)}return n}function p(e,t,i){return i=i.replace("UU",e).replace("uu",e).replace("NN",u(t,e)).replace("nn",t.substring(0,1).toLowerCase()).replace("Nn",t.substring(0,1).toUpperCase())}function d(e){return("0"+e).slice(-2)}function h(e,t){return e.indexOf(t)>-1}function f(e){var t=Math.floor(e.value/36e5);return t<10&&(t=d(t)),i(t)}var m="{timer}",g="UU NN, hh:mm:ss",v={yy:"year",MM:"month",dd:"day",hh:"hour",mm:"minute",ss:"second"},y={};return e.event.special.destroyed={remove:function e(t){t.handler&&t.handler()}},{create:n,destroy:r,start:o,stop:s,replace:m}});var n={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","co","ca","co.nz","co.uk","de","fr","fi","io","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu","uk"],run:function e(t){
t.domains=t.domains||n.defaultDomains,t.secondLevelDomains=t.secondLevelDomains||n.defaultSecondLevelDomains,t.topLevelDomains=t.topLevelDomains||n.defaultTopLevelDomains,t.distanceFunction=t.distanceFunction||n.sift3Distance;var i=function e(t){return t},r=t.suggested||i,o=t.empty||i,s=n.suggest(n.encodeEmail(t.email),t.domains,t.secondLevelDomains,t.topLevelDomains,t.distanceFunction);return s?r(s):o()},suggest:function e(t,i,n,r,o){t=t.toLowerCase();var s=this.splitEmail(t);if(n&&r&&-1!==n.indexOf(s.secondLevelDomain)&&-1!==r.indexOf(s.topLevelDomain))return!1;var a=this.findClosestDomain(s.domain,i,o,this.domainThreshold);if(a)return a!=s.domain&&{address:s.address,domain:a,full:s.address+"@"+a};var l=this.findClosestDomain(s.secondLevelDomain,n,o,this.secondLevelThreshold),u=this.findClosestDomain(s.topLevelDomain,r,o,this.topLevelThreshold);if(s.domain){var a=s.domain,c=!1;if(l&&l!=s.secondLevelDomain&&(a=a.replace(s.secondLevelDomain,l),c=!0),u&&u!=s.topLevelDomain&&(a=a.replace(new RegExp(s.topLevelDomain+"$"),u),c=!0),1==c)return{address:s.address,domain:a,full:s.address+"@"+a}}return!1},findClosestDomain:function e(t,i,n,r){r=r||this.topLevelThreshold;var o,s=1/0,a=null;if(!t||!i)return!1;n||(n=this.sift3Distance);for(var l=0;l<i.length;l++){if(t===i[l])return t;var u="com"===a&&"c"===t||"net"===a&&"n"===t;o=n(t,i[l]),o<s&&!u&&(s=o,a=i[l])}return s<=r&&null!==a&&a},sift3Distance:function e(t,i){if(null==t||0===t.length)return null==i||0===i.length?0:i.length;if(null==i||0===i.length)return t.length;for(var n=0,r=0,o=0,s=0,a=5;n+r<t.length&&n+o<i.length;){if(t.charAt(n+r)==i.charAt(n+o))s++;else{r=0,o=0;for(var l=0;l<5;l++){if(n+l<t.length&&t.charAt(n+l)==i.charAt(n)){r=l;break}if(n+l<i.length&&t.charAt(n)==i.charAt(n+l)){o=l;break}}}n++}return(t.length+i.length)/2-s},splitEmail:function e(t){var i=t.trim().split("@");if(i.length<2)return!1;for(var n=0;n<i.length;n++)if(""===i[n])return!1;var r=i.pop(),o=r.split("."),s="",a="";if(0==o.length)return!1;if(1==o.length)a=o[0];else{s=o[0];for(var n=1;n<o.length;n++)a+=o[n]+".";a=a.substring(0,a.length-1)}return{topLevelDomain:a,secondLevelDomain:s,domain:r,address:i.join("@")}},encodeEmail:function e(t){var i=encodeURI(t);return i=i.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};void 0!==t&&t.exports&&(t.exports=n),"function"==typeof sumo.define&&sumo.define.amd&&sumo.define("mailcheck",[],function(){return n}),"undefined"!=typeof window&&window.jQuery&&function(e){e.fn.mailcheck=function(e){var t=this;if(e.suggested){var i=e.suggested;e.suggested=function(e){i(t,e)}}if(e.empty){var r=e.empty;e.empty=function(){r.call(null,t)}}e.email=this.val(),n.run(e)}}(jQuery),sumo.define("twitter-widgets",["jquery"],function(e){return{load:function(t){this.isLoaded()?t():e.getScript("//platform.twitter.com/widgets.js",t)},isLoaded:function(){return"undefined"!=typeof twttr&&void 0!==twttr.widgets},followButton:function(e,t,i){this.load(function(){twttr.widgets.createFollowButton(e,t,{showScreenName:!0,showCount:!0}).then(i&&"function"==typeof i?i:Function.prototype)})}}}),sumo.define("jquery.style",["jquery"],function(e){if(!e.fn.style){var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};!!CSSStyleDeclaration.prototype.getPropertyValue||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,i,n){this.setAttribute(e,i);var n=void 0!==n?n:"";if(""!=n){var r=new RegExp(t(e)+"\\s*:\\s*"+t(i)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(r,e+": "+i+" !"+n+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){return new RegExp(t(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi").test(this.cssText)?"important":""}),e.fn.style=function(e,t,i){if(void 0===this.get(0))return this;var n=this.get(0).style;return void 0!==e?void 0!==t?(i="important"==i?i:"","important"!=i&&"important"==n.getPropertyPriority(e)&&n.removeProperty(e),n.setProperty(e,t,i),this):n.getPropertyValue(e):n}}}),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(i,n){"object"==typeof e?t.exports=n(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],n):i.URI=n(i.punycode,i.IPv6,i.SecondLevelDomains,i)}(this,function(e,t,i,n){"use strict";function r(e,t){return this instanceof r?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new r(e,t)}function o(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===s(e)}function l(e,t){var i={},n,r;if(a(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++)void 0!==i[e[n]]&&(e.splice(n,1),r--,n--);return e}function u(e,t){var i,n;if(a(t)){for(i=0,n=t.length;i<n;i++)if(!u(e,t[i]))return!1;return!0}var r=s(t);for(i=0,n=e.length;i<n;i++)if("RegExp"===r){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function c(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function p(e){return escape(e)}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}var h=n&&n.URI;r.version="1.12.0";var f=r.prototype,m=Object.prototype.hasOwnProperty;r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\.-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},r.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return r.domAttributes[t]}},r.encode=d,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=d,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},r.encodeQuery=function(e,t){var i=r.encode(e+"");return t?i.replace(/%20/g,"+"):i},r.decodeQuery=function(e,t){e+="";try{return r.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}},r.recodePath=function(e){for(var t=(e+"").split("/"),i=0,n=t.length;i<n;i++)t[i]=r.encodePathSegment(r.decode(t[i]));return t.join("/")},r.decodePath=function(e){for(var t=(e+"").split("/"),i=0,n=t.length;i<n;i++)t[i]=r.decodePathSegment(t[i]);return t.join("/")};var g={encode:"encode",decode:"decode"},v,y=function(e,t){return function(i){return r[t](i+"").replace(r.characters[e][t].expression,function(i){return r.characters[e][t].map[i]})}};for(v in g)r[v+"PathSegment"]=y("pathname",g[v]);r.encodeReserved=y("reserved","encode"),r.parse=function(e,t){var i;return t||(t={}),i=e.indexOf("#"),i>-1&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),i=e.indexOf("?"),i>-1&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=r.parseAuthority(e,t)):(i=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(r.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(i+3):"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=r.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0)),t.path=e,t},r.parseHost=function(e,t){var i=e.indexOf("/"),n,r;return-1===i&&(i=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null),t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),e.substring(i)||"/"},r.parseAuthority=function(e,t){return e=r.parseUserinfo(e,t),r.parseHost(e,t)},r.parseUserinfo=function(e,t){var i=e.indexOf("/"),n=i>-1?e.lastIndexOf("@",i):e.indexOf("@"),o;return n>-1&&(-1===i||n<i)?(o=e.substring(0,n).split(":"),t.username=o[0]?r.decode(o[0]):null,o.shift(),t.password=o[0]?r.decode(o.join(":")):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},r.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i={},n=e.split("&"),o=n.length,s,a,l,u=0;u<o;u++)s=n[u].split("="),a=r.decodeQuery(s.shift(),t),l=s.length?r.decodeQuery(s.join("="),t):null,i[a]?("string"==typeof i[a]&&(i[a]=[i[a]]),i[a].push(l)):i[a]=l;return i},r.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=r.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},r.buildHost=function(e){var t="";return e.hostname?(r.ip6_expression.test(e.hostname)?e.port?t+="["+e.hostname+"]:"+e.port:t+=e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port)),t):""},r.buildAuthority=function(e){return r.buildUserinfo(e)+r.buildHost(e)},r.buildUserinfo=function(e){var t="";return e.username&&(t+=r.encode(e.username),e.password&&(t+=":"+r.encode(e.password)),t+="@"),t},r.buildQuery=function(e,t,i){var n="",o,s,l,u;for(s in e)if(m.call(e,s)&&s)if(a(e[s]))for(o={},l=0,u=e[s].length;l<u;l++)void 0!==e[s][l]&&void 0===o[e[s][l]+""]&&(n+="&"+r.buildQueryParameter(s,e[s][l],i),!0!==t&&(o[e[s][l]+""]=!0));else void 0!==e[s]&&(n+="&"+r.buildQueryParameter(s,e[s],i));return n.substring(1)},r.buildQueryParameter=function(e,t,i){return r.encodeQuery(e,i)+(null!==t?"="+r.encodeQuery(t,i):"")},r.addQuery=function(e,t,i){if("object"==typeof t)for(var n in t)m.call(t,n)&&r.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=i);"string"==typeof e[t]&&(e[t]=[e[t]]),a(i)||(i=[i]),e[t]=e[t].concat(i)}},r.removeQuery=function(e,t,i){var n,o,s;if(a(t))for(n=0,o=t.length;n<o;n++)e[t[n]]=void 0;else if("object"==typeof t)for(s in t)m.call(t,s)&&r.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==i?e[t]===i?e[t]=void 0:a(e[t])&&(e[t]=l(e[t],i)):e[t]=void 0}},r.hasQuery=function(e,t,i,n){if("object"==typeof t){for(var o in t)if(m.call(t,o)&&!r.hasQuery(e,o,t[o]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(i)){case"Undefined":return t in e;case"Boolean":return i===Boolean(a(e[t])?e[t].length:e[t]);case"Function":return!!i(e[t],t,e);case"Array":if(!a(e[t]))return!1;return(n?u:c)(e[t],i);case"RegExp":return a(e[t])?!!n&&u(e[t],i):Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return a(e[t])?!!n&&u(e[t],i):e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.commonPath=function(e,t){var i=Math.min(e.length,t.length),n;for(n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},r.withinString=function(e,t,i){i||(i={});var n=i.start||r.findUri.start,o=i.end||r.findUri.end,s=i.trim||r.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(e);if(!l)break;var u=l.index;if(i.ignoreHtml){var c=e.slice(Math.max(u-3,0),u);if(c&&a.test(c))continue}var p=u+e.slice(u).search(o),d=e.slice(u,p).replace(s,"");if(!i.ignore||!i.ignore.test(d)){p=u+d.length;var h=t(d,u,p,e);e=e.slice(0,u)+h+e.slice(p),n.lastIndex=u+h.length}}return n.lastIndex=0,e},r.ensureValidHostname=function(t){if(t.match(r.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(r.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},r.noConflict=function(e){if(e){var i={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(i.URITemplate=URITemplate.noConflict()),t&&"function"==typeof t.noConflict&&(i.IPv6=t.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(i.SecondLevelDomains=SecondLevelDomains.noConflict()),i}return n.URI===this&&(n.URI=h),this},f.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},f.clone=function(){return new r(this)},f.valueOf=f.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(e){return function(t,i){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!i),this)}};for(v in g)f[v]=y(g[v]);g={query:"?",fragment:"#"},y=function(e,t){return function(i,n){return void 0===i?this._parts[e]||"":(null!==i&&(i+="",i.charAt(0)===t&&(i=i.substring(1))),this._parts[e]=i,this.build(!n),this)}};for(v in g)f[v]=y(v,g[v]);g={search:["?","query"],hash:["#","fragment"]},y=function(e,t){return function(i,n){var r=this[e](i,n);return"string"==typeof r&&r.length?t+r:r}};for(v in g)f[v]=y(g[v][1],g[v][0]);f.pathname=function(e,t){if(void 0===e||!0===e){var i=this._parts.path||(this._parts.hostname?"/":"");return e?r.decodePath(i):i}return this._parts.path=e?r.recodePath(e):"/",this.build(!t),this},f.path=f.pathname,f.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=r._parts();var n=e instanceof r,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[r.getDomAttribute(e)]||"",o=!1}if(!n&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=r.parse(e,this._parts);else{if(!n&&!o)throw new TypeError("invalid input");var s=n?e._parts:e;for(i in s)m.call(this._parts,i)&&(this._parts[i]=s[i])}return this.build(!t),this},f.is=function(e){var t=!1,n=!1,o=!1,s=!1,a=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,n=r.ip4_expression.test(this._parts.hostname),o=r.ip6_expression.test(this._parts.hostname),t=n||o,s=!t,a=s&&i&&i.has(this._parts.hostname),l=s&&r.idn_expression.test(this._parts.hostname),u=s&&r.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return o;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var b=f.protocol,_=f.port,w=f.hostname;f.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(r.protocol_expression)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},f.scheme=f.protocol,f.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return _.call(this,e,t)},f.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};r.parseHost(e,i),e=i.hostname}return w.call(this,e,t)},f.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?r.buildHost(this._parts):"":(r.parseHost(e,this._parts),this.build(!t),this)},f.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?r.buildAuthority(this._parts):"":(r.parseAuthority(e,this._parts),this.build(!t),this)},f.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var i=r.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==e[e.length-1]&&(e+="@"),r.parseUserinfo(e,this._parts),this.build(!t),this},f.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=r.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},f.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}var n=this._parts.hostname.length-this.domain().length,s=this._parts.hostname.substring(0,n),a=new RegExp("^"+o(s));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&r.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},f.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(r.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var s=new RegExp(o(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},f.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(n+1);return!0!==t&&i&&i.list[r.toLowerCase()]?i.get(this._parts.hostname)||r:r}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");s=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},f.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?r.decodePath(n):n}var s=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,s),l=new RegExp("^"+o(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=r.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},f.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(i+1);return e?r.decodePathSegment(n):n}var s=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(s=!0);var a=new RegExp(o(this.filename())+"$");return e=r.recodePath(e),this._parts.path=this._parts.path.replace(a,e),s?this.normalizePath(t):this.build(!t),this},f.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf("."),s,a;return-1===n?"":(s=i.substring(n+1),a=/^[a-z0-9%]+$/i.test(s)?s:"",e?r.decodePathSegment(a):a)}"."===e.charAt(0)&&(e=e.substring(1));var l=this.suffix(),u;if(l)u=e?new RegExp(o(l)+"$"):new RegExp(o("."+l)+"$");else{if(!e)return this;this._parts.path+="."+r.recodePath(e)}return u&&(e=r.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},f.segment=function(e,t,i){var n=this._parts.urn?":":"/",r=this.path(),o="/"===r.substring(0,1),s=r.split(n);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");if(o&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(a(t)){s=[];for(var l=0,u=t.length;l<u;l++)(t[l].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(t[l]))}else(t||"string"==typeof t)&&(""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t||"string"==typeof t&&t.length?s[e]=t:s.splice(e,1);return o&&s.unshift(""),this.path(s.join(n),i)},f.segmentCoded=function(e,t,i){var n,o,s;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(n=this.segment(e,t,i),a(n))for(o=0,s=n.length;o<s;o++)n[o]=r.decode(n[o]);else n=void 0!==n?r.decode(n):void 0;return n}if(a(t))for(o=0,s=t.length;o<s;o++)t[o]=r.decode(t[o]);else t="string"==typeof t?r.encode(t):t;return this.segment(e,t,i)};var x=f.query;return f.query=function(e,t){if(!0===e)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,i);return this._parts.query=r.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=r.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},f.setQuery=function(e,t,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var o in e)m.call(e,o)&&(n[o]=e[o]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[e]=void 0!==t?t:null}return this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.addQuery=function(e,t,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(n,e,void 0===t?null:t),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.removeQuery=function(e,t,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(n,e,t),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.hasQuery=function(e,t,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(n,e,t,i)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},f.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},f.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},f.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var t,i=this._parts.path,n="",o,s;for("/"!==i.charAt(0)&&(t=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(n=i.substring(1).match(/^(\.\.\/)+/)||"")&&(n=n[0]);;){if(-1===(o=i.indexOf("/..")))break;0!==o?(s=i.substring(0,o).lastIndexOf("/"),-1===s&&(s=o),i=i.substring(0,s)+i.substring(o+3)):i=i.substring(3)}return t&&this.is("relative")&&(i=n+i.substring(1)),i=r.recodePath(i),this._parts.path=i,this.build(!e),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},f.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var e=r.encode,t=r.decode;return r.encode=escape,r.decode=decodeURIComponent,this.normalize(),r.encode=e,r.decode=t,this},f.unicode=function(){var e=r.encode,t=r.decode;return r.encode=d,r.decode=unescape,this.normalize(),r.encode=e,r.decode=t,this},f.readable=function(){var t=this.clone();t.username("").password("").normalize();var i="";if(t._parts.protocol&&(i+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(i+=e.toUnicode(t._parts.hostname),t._parts.port&&(i+=":"+t._parts.port)):i+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(i+="/"),i+=t.path(!0),t._parts.query){for(var n="",o=0,s=t._parts.query.split("&"),a=s.length;o<a;o++){var l=(s[o]||"").split("=");n+="&"+r.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(n+="="+r.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+n.substring(1)}return i+=r.decodeQuery(t.hash(),!0)},f.absoluteTo=function(e){var t=this.clone(),i=["protocol","username","password","hostname","port"],n,o,s;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof r||(e=new r(e)),t._parts.protocol||(t._parts.protocol=e._parts.protocol),this._parts.hostname)return t;for(o=0;s=i[o];o++)t._parts[s]=e._parts[s];return t._parts.path?".."===t._parts.path.substring(-2)&&(t._parts.path+="/"):(t._parts.path=e._parts.path,t._parts.query||(t._parts.query=e._parts.query)),"/"!==t.path().charAt(0)&&(n=e.directory(),t._parts.path=(n?n+"/":"")+t._parts.path,t.normalizePath()),t.build(),t},f.relativeTo=function(e){var t=this.clone().normalize(),i,n,o,s,a;if(t._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new r(e).normalize(),i=t._parts,n=e._parts,s=t.path(),a=e.path(),"/"!==s.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(i.protocol===n.protocol&&(i.protocol=null),i.username!==n.username||i.password!==n.password)return t.build();if(null!==i.protocol||null!==i.username||null!==i.password)return t.build();if(i.hostname!==n.hostname||i.port!==n.port)return t.build();if(i.hostname=null,i.port=null,s===a)return i.path="",t.build();if(!(o=r.commonPath(t.path(),e.path())))return t.build();var l=n.path.substring(o.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return i.path=l+i.path.substring(o.length),t.build()},f.equals=function(e){var t=this.clone(),i=new r(e),n={},o={},s={},l,u,p;if(t.normalize(),i.normalize(),t.toString()===i.toString())return!0;if(l=t.query(),u=i.query(),t.query(""),i.query(""),t.toString()!==i.toString())return!1;if(l.length!==u.length)return!1;n=r.parseQuery(l,this._parts.escapeQuerySpace),o=r.parseQuery(u,this._parts.escapeQuerySpace);for(p in n)if(m.call(n,p)){if(a(n[p])){if(!c(n[p],o[p]))return!1}else if(n[p]!==o[p])return!1;s[p]=!0}for(p in o)if(m.call(o,p)&&!s[p])return!1;return!0},f.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},f.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},r}),sumo.define("jquery.article",["jquery"],function(e){e.expr[":"].emptytext=e.expr.createPseudo(function(t){return function(t){return""===e.trim(e(t).text())}}),e.fn.findIncludeSelf=function(t,i){var n;return n=":has(> p + p + p)"==t?this.find("p + p + p").parent():this.find(t),e(this).is(i)?n:n.addBack(t)},e.fn.exists=function(){return 0!==this.length},e.fn.findLeaves=function(i,n){var r=e(this),o=r.findIncludeSelf(i,"body").filter(n);return o=o.filter(t),o.filter(function(){return!e(this).find(o).exists()})},e.fn.findTrunks=function(i,n){var r=e(this),o=r.findIncludeSelf(i,"body").filter(n);return o=o.filter(t),o.filter(function(){return!e(this).parents().filter(o).exists()})};var t=function(){if(this._header||(this._header=n(e(this))),this._titleText||(this._titleText=s(this)),this._header){var t=.666*e(this).outerHeight();if(t&&this._header.outerHeight()>=t)return!1}return!0},i=function(t){var i=t||e("body").find("main, [role=main]").eq(0).get(0)||"body",n=e(),r=':not("[class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body, [class*=not-footer]) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,.aside,.hentry-metro,.hrf-entry,:emptytext,.tve-leads-lightbox article")',o=[];o.push("article"),o.push(".post"),o.push(".entry-content"),o.push(".post-content"),o.push(".post_box"),o.push(".post-item"),
o.push(".blog-post-wrapper"),o.push(".type-post"),o.push("#content"),o.push(".blog_content"),"body"!=i?(o.push(".hentry"),o.push(".content")):(o.push("main .hentry"),o.push("[role=main] .hentry"),o.push("main .content"),o.push("[role=main] .content")),o.push("#post-content"),o.push("#blog-content"),o.push(".blog-post");for(var s=[":has(> p + p + p)"],a=0;a<o.length;a++)if(n=e(i).findLeaves(o[a],r),n.length>0)return n;for(var a=0;a<s.length;a++)if(n=e(i).findTrunks(s[a],r),n.length>0)return n;var n,l,u,c;return n},n=function(t){var i=null,n=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],r={};try{n.forEach(function(n){if(i=e(t).find(n),i.length>0)throw r})}catch(e){if(e===r)return i.eq(0);throw e}return null},r=function(t){var i=null,n=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],r={};try{n.forEach(function(n){if(i=e(t).find(n),i.length>0)throw r})}catch(e){if(e===r)return i.eq(0).hasClass("fb-comments")&&i.eq(0).prev("h3 + p").length>0?i.eq(0).prev("h3 + p").prev("h3"):i.eq(0);throw e}return null},o=function(e){return n(e)},s=function(e){var t=null;return!e._title&&e._header&&(e._title=e._header),e._title&&(t=e._title.text().trim()),t},a=function(t){var i=null,n=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],r={};try{n.forEach(function(n){if(i=e(t).find(n).filter("[href]"),i.length>0)throw r})}catch(e){if(e===r)return i.eq(0);throw e}return null};e.articles=function(t){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var l=i(t);return l.each(function(){this._header||(this._header=n(e(this))),this._footer=r(e(this)),this._title=this._header?o(this._header):null,this._titleText||(this._titleText=s(this));var t=this._header?a(this._header):null;this._anchor=t||a(e(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),"__smDebug"in window&&window.__smDebug&&l.each(function(){e(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=l,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),l},e.article=function(){return e.articles().eq(0)}}),sumo.define("jquery.displayrules",["jquery","URI","jquery.article"],function(e,t){e.isCurrentUrlAllowed=function(i,n,r,o){function s(e,t,i,n){var r=[];if(e&&e.length)for(var o=0;o<e.length;o++){var s=e[o];if("object"==typeof s&&s.hasOwnProperty(t)&&s[t]==i&&(r.push(s),n))return r[0]}return n?null:r}if(i&&i.length){var a=s(i,"filter_type","article",!0),l=[];a&&(l=e.articles()),r||(r=!1);var u=function(e){for(var t=Object.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=[t[r],e[t[r]]];return n},c=function(e){var t=u(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var n=0;n<i;n++){var r=t[n],o=r[0];if(r[1]!==e[o]||!(o in e))return!1}return!0}},p=function(e){var e=e.substr(1).split("&");if(""==e)return{};for(var t={},i=0;i<e.length;++i){var n=e[i].split("=",2);if(1==n.length)t[n[0]]="";else try{t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}catch(e){t[n[0]]=n[1].replace(/\+/g," ")}}return t},d=function(e,t,i){if(e.has_hash&&e.hash!=t)return!1;if(e.has_query_params){var n=p(e.search),r=p(i);if(c(n)(r))return!0;if(!(["containing","beginning"].indexOf(e.filter_type)>=0))return!1;for(var o=!0,s=Object.keys(n),a=0;a<s.length;a++){var l=s[a],u=n[s[a]];if(u&&u.length)if(l in r){if(0!=r[l].indexOf(u))return!1}else{if("containing"!=e.filter_type)return!1;var d=!1;if(Object.keys(r).forEach(function(e){e.lastIndexOf(l)>=0&&l==e.substring(e.lastIndexOf(l))&&0==r[e].indexOf(u)&&(d=!0)}),!d)return!1}else{if(l in r)continue;for(var h=Object.keys(r),d=!1,f=0;f<h.length;f++){if(0==h[f].indexOf(l)){d=!0;break}}if(!d)return!1}}}return!0},h=s(i,"parsedUserAgent",!0,!0),f=window.location.toString();f&&(f=f.toLowerCase());var m=window.location.pathname.toString();m&&(m=m.toLowerCase());var g=window.location.hostname+m;g&&(g=g.toLowerCase()),"/"==m[m.length-1]&&(m=m.substring(0,m.length-1),g=g.substring(0,g.length-1)),0==g.indexOf("www.")&&(g=g.substring(4));var v=window.location.search;v&&(v=v.toLowerCase());var y=window.location.hash;y&&(y=y.toLowerCase(),"#"!=y[0]&&(y="#"+y));for(var b=p(v),_=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),w=document.cookie.split(";"),x={},k=[],S=0;S<w.length;S++){var $=w[S].substring(0,w[S].indexOf("=")).trim(),E=w[S].substring(w[S].indexOf("=")+1).trim();k.push($),x[$]=E}var C=document.getElementsByTagName("meta"),T=document.referrer;if(T&&T.length){T=T.toLowerCase();try{var I=t(T);if(I.is("ip")){var A=I.hostname();A&&(A=A.toLowerCase())}else{var A=I.domain();A&&(A=A.toLowerCase())}var O=I.path();O&&(O=O.toLowerCase());var L=I.tld();L&&(L=L.toLowerCase());var N=I.hostname()?I.hostname().toLowerCase()+O:O;"/"==O[O.length-1]&&(O=O.substring(0,O.length-1),N=N.substring(0,N.length-1)),0==N.indexOf("www.")&&(N=N.substring(4));var M=I.search(),P=I.hash()}catch(e){T=!1}}else T=!1;var D=function(t){var i=!1;return e.each(t,function(e,t){var n=!1;if(t.forEach(function(e){var t=!1;if(!n)if("article"==e.filter_type)1==l.length&&(t=!0);else if("smaller"==e.filter_type)(isNaN(parseFloat(e.filter_value))||_<parseFloat(e.filter_value))&&(t=!0);else if("bigger"==e.filter_type)(isNaN(parseFloat(e.filter_value))||_>=parseFloat(e.filter_value))&&(t=!0);else if("views_lt"==e.filter_type)(isNaN(e.pageviews)||o<e.pageviews)&&(t=!0);else if("views_eq"==e.filter_type)(isNaN(e.pageviews)||o==e.pageviews)&&(t=!0);else if("views_gt"==e.filter_type)(isNaN(e.pageviews)||o>e.pageviews)&&(t=!0);else if("countryis"==e.filter_type)r==e.filter_value.toLowerCase()&&(t=!0);else if("countryisnot"==e.filter_type)r&&r==e.filter_value.toLowerCase()||(t=!0);else if("c_exists"==e.filter_type)k.indexOf(e.filter_value)>=0&&(t=!0);else if("c_dne"==e.filter_type)k.indexOf(e.filter_value)<0&&(t=!0);else if("c_equals"==e.filter_type)k.indexOf(e.filter_value)>=0&&x[e.filter_value]==e.param_value&&(t=!0);else if("c_notequals"==e.filter_type)(k.indexOf(e.filter_value)<0||x[e.filter_value]!=e.param_value)&&(t=!0);else if("c_contains"==e.filter_type)k.indexOf(e.filter_value)>=0&&x[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("c_notcontains"==e.filter_type)(k.indexOf(e.filter_value)<0||x[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("mt_equals"===e.filter_type)for(var i=0;i<C.length;i++){var s=C[i].getAttribute(e.filter_value);s&&s.toLowerCase()===e.param_value.toLowerCase()&&(t=!0)}else if("mt_notequals"===e.filter_type){for(var a=!1,i=0;i<C.length;i++){var s=C[i].getAttribute(e.filter_value);s&&s.toLowerCase()===e.param_value.toLowerCase()&&(a=!0)}t=!a}else if("mt_contains"===e.filter_type)for(var i=0;i<C.length;i++){var s=C[i].getAttribute(e.filter_value);s&&-1!==s.toLowerCase().indexOf(e.param_value.toLowerCase())&&(t=!0)}else if("mt_notcontains"===e.filter_type){for(var a=!1,i=0;i<C.length;i++){var s=C[i].getAttribute(e.filter_value);s&&-1!==s.toLowerCase().indexOf(e.param_value.toLowerCase())&&(a=!0)}t=!a}else if("mt_beginning"===e.filter_type)for(var i=0;i<C.length;i++){var s=C[i].getAttribute(e.filter_value);s&&s.toLowerCase().substring(0,e.param_value.length)===e.param_value.toLowerCase()&&(t=!0)}else if("q_exists"==e.filter_type)b&&b.hasOwnProperty(e.filter_value.toLowerCase())&&(t=!0);else if("q_dne"==e.filter_type)b&&b.hasOwnProperty(e.filter_value)||(t=!0);else if("q_equals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value&&(t=!0);else if("q_notequals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value||(t=!0);else if("q_contains"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("q_notcontains"==e.filter_type)(!b||!b[e.filter_value]||b[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("exact"==e.filter_type){var u=d(e,y,v);u&&(e.full_url?g==e.match_url&&(t=!0):null==e.match_url&&u?t=!0:g!=e.match_url&&m!=e.match_url||(t=!0))}else if("beginning"==e.filter_type){var u=d(e,y,v);u&&(e.full_url?0==g.indexOf(e.match_url.toLowerCase())&&(t=!0):null==e.match_url&&u?t=!0:0!=g.indexOf(e.match_url.toLowerCase())&&0!=m.indexOf(e.match_url.toLowerCase())||(t=!0))}else if("containing"==e.filter_type){var u=d(e,y,v);u&&(e.full_url?g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0):null==e.match_url&&u?t=!0:g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0))}else if(T&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(e.filter_type)>=0)if("r_url_exact"==e.filter_type){var u=d(e,P,M);e.full_url?u&&N==e.match_url.toLowerCase()&&(t=!0):u&&N==e.match_url.toLowerCase()?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_exact"==e.filter_type)e.host?e.host==A&&(t=!0):e.filter_value==A&&(t=!0);else if("r_url_beginning"==e.filter_type){var u=d(e,P,M);e.full_url?u&&0==N.indexOf(e.match_url)&&(t=!0):u&&0==N.indexOf(e.match_url)?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_beginning"==e.filter_type)e.host&&0==A.indexOf(e.host)?t=!0:0==A.indexOf(e.filter_value)&&(t=!0);else if("r_url_containing"==e.filter_type){var u=d(e,P,M);e.full_url?u&&N.indexOf(e.match_url)>=0&&(t=!0):u&&N.indexOf(e.match_url)>=0?t=!0:null==e.match_url&&u&&(t=!0)}else"r_domain_containing"==e.filter_type&&(e.host&&A.indexOf(e.host)>=0?t=!0:A.indexOf(e.filter_value)>=0&&(t=!0));else if("ua_os"==e.filter_type&&h&&h.compareOS){var c=[e.filter_value];"winmobile"==e.filter_value?c=["windows mobile","windows phone"]:"macos"==e.filter_value?c=["mac os"]:"windesktop"==e.filter_value&&(c=["windows"]),c.indexOf(h.compareOS)>=0&&(t=!0)}else if("ua_browser"==e.filter_type&&h&&h.compareBrowser){var c=[e.filter_value];"chrome"==e.filter_value?c=["chrome","chromium"]:"ie"==e.filter_value?c=["ie","ie mobile"]:"opera"==e.filter_value?c=["opera","opera mini","opera mobile","opera tablet"]:"safari"==e.filter_value&&(c=["safari","mobile safari"]),c.indexOf(h.compareBrowser)>=0&&(t=!0)}else if("ua_exact"==e.filter_type)e.filter_value.toLowerCase()==navigator.userAgent.toLowerCase()&&(t=!0);else if("ua_beginning"==e.filter_type)0==navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())&&(t=!0);else if("ua_containing"==e.filter_type)navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())>=0&&(t=!0);else if("hash_exact"==e.filter_type){var p="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;p.toLowerCase()==y.toLowerCase()&&(t=!0)}else if("hash_beginning"==e.filter_type){var p="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;0==y.toLowerCase().indexOf(p.toLowerCase())&&(t=!0)}else if("hash_containing"==e.filter_type){var p="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;y.toLowerCase().indexOf(p.toLowerCase())>=0&&(t=!0)}else"all"==e.filter_type&&(t=!0);t||(n=!0)}),!n)return i=!0,!1}),i},R=s(i,"rule_type","include",!1);if(R&&R.length){var B={},j=0;R.forEach(function(e){e.group_id&&e.group_id.length?B.hasOwnProperty(e.group_id)?B[e.group_id].push(e):B[e.group_id]=[e]:(B[j]=[e],j+=1)}),currentUrlIncluded=D(B)}else currentUrlIncluded=!0;if(!currentUrlIncluded)return!1;var F=s(i,"rule_type","exclude",!1),q=!1;if(!F||!F.length)return!0;var z={},j=0;return F.forEach(function(e){e.group_id&&e.group_id.length?z.hasOwnProperty(e.group_id)?z[e.group_id].push(e):z[e.group_id]=[e]:(z[j]=[e],j+=1)}),!(q=D(z))}return!0}}),sumo.define("jquery.ba-resize",["jquery"],function(e){!function(e,t,i){"$:nomunge";function n(){s=t[a](function(){r.each(function(){var t=e(this),i=t.width(),n=t.height(),r=e.data(this,u);i===r.w&&n===r.h||t.trigger(l,[r.w=i,r.h=n])}),n()},o[c])}var r=e([]),o=e.sized=e.extend(e.sized,{}),s,a="setTimeout",l="sized",u=l+"-special-event",c="delay",p="throttleWindow";o[c]=250,o[p]=!0,e.event.special[l]={setup:function(){if(!o[p]&&this[a])return!1;var t=e(this);r=r.add(t),e.data(this,u,{w:t.width(),h:t.height()}),1===r.length&&n()},teardown:function(){if(!o[p]&&this[a])return!1;var t=e(this);r=r.not(t),t.removeData(u),r.length||clearTimeout(s)},add:function(t){function n(t,n,o){var s=e(this),a=e.data(this,u);a.w=n!==i?n:s.width(),a.h=o!==i?o:s.height(),r.apply(this,arguments)}if(!o[p]&&this[a])return!1;var r;if(e.isFunction(t))return r=t,n;r=t.handler,t.handler=n}}}(e,this)}),function(e,i){"function"==typeof sumo.define&&sumo.define.amd?sumo.define("ev-emitter/ev-emitter",i):"object"==typeof t&&t.exports?t.exports=i():e.EvEmitter=i()}(this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||[])[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=0,r=i[n];t=t||[];for(var o=this._onceEvents&&this._onceEvents[e];r;){var s=o&&o[r];s&&(this.off(e,r),delete o[r]),r.apply(this,t),n+=s?0:1,r=i[n]}return this}},e}),function(e,i){"use strict";"function"==typeof sumo.define&&sumo.define.amd?sumo.define("jquery.imagesLoaded",["ev-emitter/ev-emitter","jquery"],function(t,n){return i(e,t,n)}):"object"==typeof t&&t.exports?t.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}(window,function e(t,i,n){function r(e,t){for(var i in t)e[i]=t[i];return e}function o(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t}function s(e,t,i){if(!(this instanceof s))return new s(e,t,i);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=r({},this.options),"function"==typeof t?i=t:r(this.options,t),i&&this.on("always",i),this.getImages(),u&&(this.jqDeferred=new u.Deferred),setTimeout(function(){this.check()}.bind(this))}function a(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}var u=n||t.jQuery,c=t.console;s.prototype=Object.create(i.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&p[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var r=i[n];this.addImage(r)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var s=o[n];this.addElementBackgroundImages(s)}}}};var p={1:!0,9:!0,11:!0};return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var r=n&&n[2];r&&this.addBackground(r,e),n=i.exec(t.backgroundImage)}},s.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},s.prototype.addBackground=function(e,t){var i=new l(e,t);this.images.push(i)},s.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();this.images.forEach(function(t){t.once("progress",e),t.check()})},s.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},a.prototype=Object.create(i.prototype),a.prototype.check=function(){if(this.getIsImageComplete())return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src},a.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(a.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(u=e,u.fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(u(this))})},s.makeJQueryPlugin(u),s}),sumo.define("jquery.iframe-tracker",["jquery"],function(e){e.fn.iframeTracker=function(t){e.iframeTracker.handlersList.push(t),e(this).bind("mouseover",{handler:t},function(e){e.data.handler.over=!0;try{e.data.handler.overCallback(this)}catch(e){}}).bind("mouseout",{handler:t},function(t){t.data.handler.over=!1,e.iframeTracker.focusRetriever.focus();try{t.data.handler.outCallback(this)}catch(e){}})},e.iframeTracker={focusRetriever:null,focusRetrieved:!1,handlersList:[],isIE8AndOlder:!1,init:function(){try{1==e.browser.msie&&e.browser.version<9&&(this.isIE8AndOlder=!0)}catch(e){try{var t=navigator.userAgent.match(/(msie) ([\w.]+)/i);t[2]<9&&(this.isIE8AndOlder=!0)}catch(e){}}e(window).focus(),e(window).blur(function(t){e.iframeTracker.windowLoseFocus(t)}),e("body").append('<div style="position:fixed;top:0;left:0;overflow:hidden;"><label for="focus_retriever" style="position:absolute;left:-1000px;">Focus Retriever</label><input style="position:absolute;left:-1000px;" type="text" name="focus_retriever" value="" id="focus_retriever" readonly="true" /></div>'),this.focusRetriever=e("#focus_retriever"),this.focusRetrieved=!1;var i=this;if(e(document).mousemove(function(t){i.handlersList.some(function(t){return e(t.target).is(e(document.activeElement))})&&document.activeElement&&"IFRAME"==document.activeElement.tagName&&(e.iframeTracker.focusRetriever.focus(),e.iframeTracker.focusRetrieved=!0)}),this.isIE8AndOlder){this.focusRetriever.blur(function(t){t.stopPropagation(),t.preventDefault(),e.iframeTracker.windowLoseFocus(t)}),e("body").click(function(t){e(window).focus()}),e("form").click(function(e){e.stopPropagation()});try{e("body").on("click","form",function(e){e.stopPropagation()})}catch(e){}}},windowLoseFocus:function(e){for(var t in this.handlersList)if(1==this.handlersList[t].over)try{this.handlersList[t].blurCallback()}catch(e){}}},e(document).ready(function(){e.iframeTracker.init()})});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){"function"==typeof sumo.define&&sumo.define.amd?sumo.define("jquery.email-autocomplete",["jquery","mailcheck"],t):"object"===(void 0===e?"undefined":o(e))?t(require("jquery","mailcheck")):t(jQuery,n)}(function(e,t){function i(t,i){this.$field=e(t),"domains"in i&&Array.isArray(i.domains)&&(i.domains=i.domains.concat(r.domains)),this.options=e.extend(!0,{},r,i),this._defaults=r,this._domains=this.options.domains,this._emails=this.options.emails,this.init()}var n="emailautocomplete",r={suggClass:"sumome-eac-sugg",suggsClass:"sumome-eac-suggs",renderDrop:!0,domains:["gmail.com","hotmail.com","yahoo.com","outlook.com","aol.com","live.com","me.com","icloud.com","mail.ru","hotmail.co.uk","yahoo.co.uk","facebook.com","ymail.com","yandex.ru","msn.com","comcast.net","mail.com","mac.com","hotmail.fr","googlemail.com","yahoo.fr","gmx.de","qq.com","web.de","yahoo.es","live.co.uk","yahoo.com.br","att.net","sbcglobal.net","yahoo.ca","rocketmail.com","abv.bg","btinternet.com","verizon.net","hotmail.it","gmx.com","hotmail.es","cox.net","seznam.cz","live.fr","yandex.com","yahoo.co.in","yahoo.co.id","mailinator.com","bigpond.com","yahoo.com.au","yahoo.it","libero.it","yopmail.com","yahoo.de","yahoo.in","wp.pl","163.com","shaw.ca","ntlworld.com","rediffmail.com","bk.ru","naver.com","bellsouth.net","gmx.net","live.nl","live.ca","outlook.fr","free.fr","o2.pl","kw.com","ukr.net","ya.ru","outlook.es","orange.fr","earthlink.net","rogers.com","hotmail.de","live.com.au","charter.net","rambler.ru","yahoo.co.jp","yahoo.gr","hotmail.ca"],emails:[]};i.prototype={init:function i(){Array.prototype.indexOf||this.doIndexOf();var n=this.getDefaultStyle(this.$field[0],"width"),r=this.$field[0].style.height||this.$field.outerHeight(),o=this.$field.css("backgroundColor"),s=this.isBgColorDark(o),a=e("<div class='sumome-eac-input-wrap' />").css({display:"block",position:"relative",fontSize:this.$field.css("fontSize"),fontStyle:this.$field.css("fontStyle"),float:this.$field.css("float"),width:n,maxWidth:"100%",minWidth:this.$field.css("min-width"),margin:this.$field.css("margin"),marginTop:this.$field.css("margin-top"),marginRight:this.$field.css("margin-right"),marginBottom:this.$field.css("margin-bottom"),marginLeft:this.$field.css("margin-left"),opacity:"1 !important",background:this.$field.css("background"),backgroundImage:this.$field.css("background-image"),backgroundColor:o,borderRadius:this.$field.css("border-radius")||this.$field.css("border-top-left-radius"),textAlign:this.$field.css("text-align"),borderColor:"transparent"}).addClass(this.$field.attr("class"));this.$field.wrap(a),this.$wrap=this.$field.parent(),this.removeStyle(this.$field,"margin"),this.removeStyle(this.$field,"background"),this.removeStyle(this.$field,"background-color"),this.removeStyle(this.$field,"background-image"),this.$field[0].style.margin="",this.$field[0].style.marginTop="",this.$field[0].style.marginRight="",this.$field[0].style.marginBottom="",this.$field[0].style.marginLeft="",this.$field[0].style.background="",this.$field[0].style.backgroundColor="",this.$field[0].style.backgroundImage="",this.$field.css({position:"relative",top:0,left:0,width:"100%",minWidth:"100%",margin:0,background:"transparent",backgroundColor:"transparent",backgroundImage:"",lineHeight:"initial"}),this.isTextAlignCenter="center"===this.$field.css("textAlign"),this.updateFieldLeftOffset(),this.$cval=e("<span class='sumome-eac-cval' />").css({visibility:"hidden",position:"absolute",top:0,left:0,display:"inline-block",fontFamily:this.$field.css("fontFamily"),fontWeight:this.$field.css("fontWeight"),fontSize:this.$field.css("fontSize"),fontStyle:this.$field.css("fontStyle"),letterSpacing:this.$field.css("letterSpacing"),height:"100%",zIndex:"-1"}).insertBefore(this.$field);var l=(this.$field.outerHeight(!0)-this.$field.height())/2;this.$suggUnderlay=e("<input class='"+this.options.suggClass+"' disabled/>").css({display:"inline-block","box-sizing":"border-box",fontFamily:this.$field.css("fontFamily"),fontWeight:this.$field.css("fontWeight"),fontSize:this.$field.css("fontSize"),fontStyle:this.$field.css("fontStyle"),letterSpacing:this.$field.css("letterSpacing"),position:"absolute",left:0,height:"100%",width:"100%",padding:this.$field.css("padding"),paddingTop:this.$field.css("padding-top"),paddingRight:this.$field.css("padding-right"),paddingBottom:this.$field.css("padding-bottom"),paddingLeft:this.$field.css("padding-left"),border:this.$field.css("border"),borderTopWidth:this.$field.css("border-top-width"),borderRightWidth:this.$field.css("border-right-width"),borderBottomWidth:this.$field.css("border-bottom-width"),borderLeftWidth:this.$field.css("border-left-width"),borderRadius:this.$field.css("border-radius")||this.$field.css("border-top-left-radius"),background:"transparent",borderColor:"transparent",color:s?"rgba(0, 0, 0, 0.25)":"rgba(255, 255, 255, 0.25)",opacity:1,lineHeight:"initial"}).insertBefore(this.$field),this.$suggOverlay=e("<span class='sumome-eac-overlay-hitbox' />").css({display:"inline-block","box-sizing":"border-box",fontFamily:this.$field.css("fontFamily"),fontWeight:this.$field.css("fontWeight"),fontSize:this.$field.css("fontSize"),fontStyle:this.$field.css("fontStyle"),letterSpacing:this.$field.css("letterSpacing"),transform:"translateY(-50%)",position:"absolute",top:"50%",opacity:0,left:0,cursor:"pointer"}).insertAfter(this.$field),this.$spellErrorEl=e("<span class='sumome-eac-sugg-spell-error' />").css({fontFamily:this.$field.css("fontFamily"),fontWeight:this.$field.css("fontWeight"),fontSize:this.$field.css("fontSize"),fontStyle:this.$field.css("fontStyle"),letterSpacing:this.$field.css("letterSpacing"),background:"transparent",transform:"translateY(-50%)",display:"inline-block",position:"absolute",top:"50%"}).insertBefore(this.$field),this.$spellErrorUsrEl=e("<span class='sumome-eac-sugg-spell-error-usernm' />").css({marginLeft:this.fieldLeftOffset}).appendTo(this.$spellErrorEl),this.$spellErrorDomEl=e("<span class='sumome-eac-sugg-spell-error-domain' />").appendTo(this.$spellErrorEl),!1===this.options.renderDrop?this.$suggsListEl=e("."+this.options.suggsClass):(this.$suggsListEl=e("<span class='"+this.options.suggsClass+"' />").css("visibility","hidden").insertAfter(this.$field),this.$field.on("blur",e.proxy(function(e){this.$wrap.removeClass("sumome-eac-input-wrap-focus"),this.hideSuggsDropDown()},this)),this.$field.on("focus",e.proxy(function(e){if(this.$wrap.addClass("sumome-eac-input-wrap-focus"),void 0===this.suggestion||this.suggestion.length<1)return!1;this.showSuggsDropDown()},this)),this.$suggsListEl.on("mousemove",e.proxy(function(t){"target"in t&&e(t.target).hasClass("sumome-eac-bubble")&&!e(t.target).hasClass("active")&&this.tabSuggs(0,e(t.target))},this))),this.$field.on("blur",e.proxy(function(e){this.$suggOverlay.hide(),this.$suggUnderlay.fadeOut(200)},this)),this.$field.on("focus",e.proxy(function(e){this.$suggOverlay.show(),this.$suggUnderlay.fadeIn(200)},this)),this.$field.on("input",e.proxy(this.displaySuggestion,this)),this.$field.on("keydown",e.proxy(function(e){13===e.which&&this.suggestion.length>0&&e.preventDefault(),13!==e.which&&9!==e.which||this.autocomplete(),39===e.which&&!0!==e.shiftKey&&this.suggestion.length>0&&this.autocomplete(),38!==e.which&&40!==e.which||(e.preventDefault(),38===e.which&&this.tabSuggs(-1),40===e.which&&this.tabSuggs(1))},this)),this.$suggOverlay.on("mousedown.eac touchstart.eac",e.proxy(this.autocomplete,this)),this._emails.length>0&&this.$field.attr("placeholder",""),t&&this.$field.attr("spellcheck","false"),this.$field.attr("autocomplete","email"),this.$field.attr("autocapitalize","off"),this.$field.attr("autocorrect","off"),this.$field.attr("type","email"),this.updateFontSizeMatchin(),setTimeout(e.proxy(function(){this.updateFontSizeMatchin()},this),1e3)},suggest:function e(t,i){var n=t.split("@");if(!(n.length>1))return"";if(t=n.pop(),!t.length)return"";var r=this._domains.filter(function(e){return 0===e.indexOf(t)});return i&&r&&-1===t.indexOf(r)?r:(r=r.shift()||"",r.replace(t,""))},suggests:function t(i,n){this.domainSpellCheck(i,e.proxy(function(e){var t=e||[];t.length>0&&-1===t[0].indexOf(i)?(this.$spellErrorUsrEl.css({marginLeft:this.fieldLeftOffset}),this.$spellErrorUsrEl.text(i.split("@")[0]+"@"),this.$spellErrorDomEl.text(i.split("@")[1]).css({visibility:"visible"})):this.$spellErrorDomEl.css("visibility","hidden");var r=this.suggest(this.val,!0)||[],o=this._emails.filter(function(e){return 0===e.indexOf(i)&&e!==i}),s=this._emails.filter(function(e){return 0===e.indexOf(i)&&e===i});if(s.length){var a=this._emails.slice(0),l=a.indexOf(s[0]);a.splice(l,1),a.unshift(s[0]),o=a}else 0===i.length&&(o=this._emails.slice(0));if(i.split("@").length>1&&i.split("@")[1].length<1){r=this._domains.slice(0,7)}t=t.concat(o.concat(r)),n(t)},this))},autocomplete:function t(){if(void 0===this.suggestion||this.suggestion.length<1)return!1;if(e(".sumome-eac-bubble.active").length>0){var i=e(".sumome-eac-bubble.active").eq(0).text();this.$field.val(i),this.$field.trigger("change")}this.clear()},clear:function e(){this.$suggUnderlay.val(""),this.$suggOverlay.text("").css("left",""),this.$suggsListEl.html("").css("visibility","hidden"),this.$spellErrorDomEl.css("visibility","hidden"),this.$cval.text(""),this.suggestion=""},displaySuggestion:function t(i){var n=this,r={},o=0;this.val=this.$field.val(),this.updateFieldLeftOffset(),this.suggests(this.val,e.proxy(function(e){this.suggestions=e,this.suggestions.length?i&&i.preventDefault():(this.$suggUnderlay.val(""),this.$suggsListEl.html("")),this.setUnderlaySuggestion(this.suggestions[0]),this.$suggsListEl.html("");for(var t=0;t<this.suggestions.length;t++){var n=this.suggestions[t];-1==n.indexOf("@")&&(n=this.val.split("@")[0]+"@"+n),r[n]||(r[n]=n,this.addSuggBubble(n),o++)}this.suggestions.length<=0?(this.$field.attr("autocomplete","email"),this.hideSuggsDropDown(!0)):(this.$field.attr("autocomplete","off"),this.showSuggsDropDown()),this.$cval.text(this.val);var s=this.$cval.width();this.$field.outerWidth()>s?(this.isTextAlignCenter?(this.$spellErrorEl.css("left",this.$field.outerWidth()/2+s/2-this.$spellErrorEl.width()+"px"),this.$suggOverlay.css("left",this.$field.outerWidth()/2+s/2+"px"),this.$suggUnderlay.css("paddingLeft",+this.$field.outerWidth()/2-s/2+"px")):this.$suggOverlay.css("left",this.fieldLeftOffset+s+"px"),this.$suggUnderlay.css("opacity",1)):this.$suggUnderlay.css("opacity",0)},this))},doIndexOf:function e(){Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var i=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),t<0&&(t+=i)<0&&(t=0);t<i;t++)if(this[t]===e)return t;return-1}},tabSuggs:function e(t,i){var n=this.$suggsListEl.find(".sumome-eac-bubble:visible"),r=i||this.$suggsListEl.find(".sumome-eac-bubble.active"),o=-1;if(0===r.length)t>0?(n.first().addClass("active"),r=n.first()):(n.last().addClass("active"),r=n.last());else{o=r.index();var s=o+t;n.removeClass("active"),r=null,s>=0&&s<n.length&&(r=n.eq(s),r.addClass("active"))}var a=r?r.text():"";this.setUnderlaySuggestion(a)},setUnderlaySuggestion:function e(t){this.val=this.$field.val();var i=!1,n=t&&-1==t.indexOf("@")?this.val.split("@")[0]+"@"+t:t;n&&-1===n.indexOf(this.val)&&(i=!0);var r=t;if(r&&r.indexOf(this.val)>-1)this.suggestion=r.replace(this.val,"");else if(r){var o=this.val.split("@")[1];this.suggestion=r.replace(o,"")}else this.suggestion="";this.$suggOverlay.text(i?"":this.suggestion),this.$suggUnderlay.val(i?"":n)},addSuggBubble:function t(i){var n=e("<span class='sumome-eac-bubble' />");if(n.text(i),n.on("mousedown touchend",e.proxy(function(t){if(!t.altKey){var i=e(t.currentTarget).text();this.$field.val(i),this.$field.trigger("change"),this.clear(),this.hideSuggsDropDown(!0)}},this)),i!=this.$field.val()){
0===this.$suggsListEl.find(".sumome-eac-bubble:visible").length&&this.suggestion.length>0&&this.suggestion.length>0&&"hidden"===this.$spellErrorDomEl.css("visibility")&&n.addClass("active"),n.appendTo(this.$suggsListEl),n.position().top>125&&n.remove()}},domainSpellCheck:function e(i,n){t&&this.hasPotential(i)?t.run({email:i,domains:this._domains,suggested:function e(t){n("full"in t?[t.full]:[])},empty:function e(){n([])}}):n([])},hasPotential:function e(t){t||(t="");var i=!1;return t.indexOf("@")>0&&2===t.split("@").length&&t.split("@")[1].indexOf(".")>0&&t.indexOf(".")!==t.length-1&&(i=!0),i},updateFieldLeftOffset:function e(){var t=parseInt(this.$field.css("borderLeftWidth"),10),i=parseInt(this.$field.css("paddingLeft"),10);this.fieldLeftOffset=t+i},updateFontSizeMatchin:function e(){var t=this.$field.css("fontSize");this.$cval.css("fontSize",t),this.$suggUnderlay.css("fontSize",t),this.$suggOverlay.css("fontSize",t),this.$spellErrorEl.css("fontSize",t)},removeStyle:function e(t,i){var n=new RegExp(i+"[^;]+;?","g");return t.attr("style",function(e,t){t&&t.replace(n,"")})},setDropDownDirection:function t(){e(window).height()-(this.$field.offset().top-e(window).scrollTop()+this.$field.outerHeight())<=this.$suggsListEl.outerHeight()?this.$suggsListEl.css({top:"initial",bottom:"100%"}):this.$suggsListEl.css({top:"100%",bottom:"initial"})},showSuggsDropDown:function e(){window.clearInterval(this.hideDropTimer),this.setDropDownDirection(),this.$suggsListEl.css("visibility","")},hideSuggsDropDown:function t(i){window.clearInterval(this.hideDropTimer),this.hideDropTimer=setTimeout(e.proxy(function(){this.$suggsListEl.css("visibility","hidden")},this),i?0:250)},isBgColorDark:function e(t){var i=!0,n=null,r=null;if(-1!==t.indexOf("rgb(")||-1!==t.indexOf("rgba(")){t=t.replace("rgb(","").replace("rgba(","").replace(")",""),n=t.split(","),n.forEach(function(e,t,i){i[t]=parseFloat(e)}),r={r:n[0],g:n[1],b:n[2],a:n[3]};i=!((r.r+r.g+r.b)/765<.5),0===r.a&&void 0!==r.a&&(i=!0)}return i},getDefaultStyle:function e(t,i){var n=t.parentNode,r=getComputedStyle(t),o;return n.style.display="none",o=r.getPropertyValue(i),n.style.removeProperty("display"),o}},e.fn[n]=function(t){return this.each(function(){e.data(this,"yz_"+n)||e.data(this,"yz_"+n,new i(this,t))})}});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};sumo.define("8dc42610-ae42-4164-90b1-573478b46574/popup",["jquery","lib/sumome/sumolist/formsync","jquery.fontObserver","underscore","JSON","articles","vex","postscribe","pixel-helpers","jquery.cookie","countries","plugins/text!8dc42610-ae42-4164-90b1-573478b46574/templates/email_popup.html","8dc42610-ae42-4164-90b1-573478b46574/fields","sumocountdown","mailcheck","twitter-widgets","jquery.style","jquery.displayrules","jquery.ba-resize","jquery.imagesLoaded","jquery.iframe-tracker","jquery.email-autocomplete"],function(e,t,i,n,s,a,l,u,c,p,d,h,f,m,v,y){var _="8dc42610-ae42-4164-90b1-573478b46574";e.fn.removeClassPrefix=function(e){return this.each(function(t,i){var n=i.className.split(" ").map(function(t){return 0===t.indexOf(e)?"":t});i.className=n.join(" ")}),this},e.fn.animateClass=function(t){e(this).removeClassPrefix("sumome-animated"),e(this).get(0)&&(e(this).get(0).offsetWidth=e(this).get(0).offsetWidth),e(this).addClass("sumome-animated "+t)},e.fn.forceFocus=function(){var t=0;e(this).one("focus",function(){i&&clearInterval(i)});var i=setInterval(e.proxy(function(){t++>100&&clearInterval(i),e(this).filter(":visible").focus()},this),100)},function(t){(e.browser=e.browser||{}).mobile=/(android|bb\d+|meego).+mobile|android|ipad|playbook|silk|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera);var w=function t(i,n,r){if(r=r||0,"post"===n.subscribeRedirectMethod){var o=e("<form />").attr("method","post").attr("action",n.subscribeRedirectUrl);if(n.subscribeRedirectVariable){var s=e("<input />").attr("type","text").attr("name",n.subscribeRedirectVariable).val(i);o.append(s)}e(document.body).append(o),setTimeout(function(){o.trigger("submit")},r)}else if("get"===n.subscribeRedirectMethod){var a=n.subscribeRedirectUrl;if(n.subscribeRedirectVariable&&i){var l={};a.indexOf("?")>0?a+="&":a+="?",l[n.subscribeRedirectVariable]=i,a+=e.param(l)}setTimeout(function(){window.location=a,x.continueContent(n,i)},r)}else setTimeout(function(){window.location=n.subscribeRedirectUrl,x.continueContent(n,i)},r)},x={mx:null,my:null,lmx:-1,lmy:-1,travel:null,$modal:null,api:null,cookieName:"__smListBuilderShown",subCookieName:"__smSubscribed",ctaCookieName:"__smClicked",optOutCookieName:"__smListBuilderOptOut",hasMouse:!1,scrollTop:0,hasShown:!1,continueMode:!1,yield:!1,noTriggersInterval:null,settings:{contentWidth:"small",popupMode:"smart",beforeShowDelay:5,cookieLifetime:1,cookieLifetimeInterval:"month",headingText:"Join Our Newsletter",blurbText:"Sign up today for free and be the first to get notified on new updates.",buttonText:"Subscribe Now",continueButtonText:"Continue",optoutText:"No Thanks",placeholderText:"Enter your email address",advancedForm:null,pixelsShown:null,pixelsConverison:null,displayRules:[],template:null,templateHtml:null,yield:!0,fields:["email"],field_placeholders:{},countdown_end:null,countdown_format:null,triggers:{},formsync:{}},transparentPng_id:"0000000000000000000000000000000000000000000000000000000000000000",transparentPng:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=",spinnerLoadingHTML:'<i class="sumome-list-builder-loading-spinner sumome-list-builder-loading-spinning" style="border-color:rgba(0,0,0,0.66); border-top-color:rgba(0,0,0,0.66);"></i><span class="sumome-list-builder-loading-status"></span>',easySubPingInterval:null,easySubWinReceiver:null,easySubPopupOrigin:"*",load:function t(){setInterval(e.proxy(function(){this.bindClickTriggers()},this),500),this.api.on(_+"/service/yield",e.proxy(function(e){this.yield=e||!0},this));var i=window.location.toString().toLowerCase(),n=Math.min(window.screen.availWidth||e(window).width(),e(window).width());this.articles=a.findAll();var r=Object.keys(e.cookie()),o=[];e("[data-sumome-listbuilder-embed-id]").each(function(){o.push(e(this).attr("data-sumome-listbuilder-embed-id"))}),e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/listbuilder/load",data:{site_id:this.api.properties.siteId,location:i,width:n,articles:this.articles.length,cookie_names:r,referrer:document.referrer,geoLocation:this.api.properties.geoLocation,pageViews:this.api.properties.views,userAgent:navigator.userAgent,embed_code_ids:o},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){function i(e,t){return Math.floor(Math.random()*(t-e)+e)}if(t&&"success"in t&&t.success){var n=!0,r=!(!this.api.properties.geoLocation||!this.api.properties.geoLocation.ctry)&&this.api.properties.geoLocation.ctry,o=this.api.properties.views?this.api.properties.views:1;if(t.possiblePopups&&!0!==t.possiblePopups&&t.possiblePopups.length){var s=[];if(t.possiblePopups.forEach(e.proxy(function(t){t.displayRules&&!e.isCurrentUrlAllowed(t.displayRules,null,r)||s.push(t)},this)),t.displayRules&&!e.isCurrentUrlAllowed(t.displayRules,null,r)||s.push(t),s&&s.length){var a=i(0,s.length);e.extend(t,s[a])}else n=!1}else t.possiblePopups&&t.displayRules&&!e.isCurrentUrlAllowed(t.displayRules,null,r)&&(n=!1);this.settings.pro=!!t.pro&&t.pro,this.settings.starter=!!t.starter&&t.starter,this.settings.popupId=t.id,this.settings.campaignId=t.campaign_id,this.settings.popupMode=t.popup_mode?t.popup_mode:"smart",this.settings.beforeShowDelay=t.before_show_delay,this.settings.cookieLifetime=t.cookie_lifetime,this.settings.cookieLifetimeInterval=t.cookie_lifetime_interval,this.settings.headingText=t.heading_text,this.settings.blurbText=t.blurb_text,this.settings.continueHeadingText=t.continue_heading_text,this.settings.continueBlurbText=t.continue_blurb_text,this.settings.buttonText=t.button_text,this.settings.continueButtonText=t.continue_button_text,this.settings.optoutText=t.optout_text,this.settings.placeholderText=t.placeholder_text,this.settings.advancedForm=t.advanced_form,this.settings.pixelsShown=t.pixels_shown,this.settings.pixelsConversion=t.pixels_conversion,this.settings.contentWidth=t.content_width,this.settings.headingColor=t.heading_color,this.settings.textColor=t.text_color,this.settings.modalColor=t.modal_color,this.settings.buttonForeColor=t.button_fore_color,this.settings.buttonBackColor=t.button_back_color,this.settings.optoutForeColor=t.optout_fore_color,this.settings.optoutBackColor=t.optout_back_color,this.settings.headingFont=t.heading_font,this.settings.textFont=t.text_font,this.settings.subscribeRedirectUrl=t.subscribe_redirect_url,this.settings.subscribeRedirectMethod=t.subscribe_redirect_method,this.settings.subscribeRedirectVariable=t.subscribe_redirect_variable,this.settings.skipSuccessPopup=t.skip_success_popup,this.settings.template=t.listBuilderTemplate?t.listBuilderTemplate.id:null,this.settings.templateHtml=t.listBuilderTemplate?t.listBuilderTemplate.html:null,this.settings.templateSlug=t.listBuilderTemplate?t.listBuilderTemplate.slug:null,this.settings.mediaId=t.media_id?t.media_id:null,this.settings.yield=t.yield,this.settings.displayRules=t.display_rules?t.display_rules:null,this.settings.fields=t.fields,this.settings.field_placeholders=t.field_placeholders,this.settings.by_email=t.by_email||!1,this.settings.by_email_failed=!1,this.settings.easy_mobile=t.easy_mobile||!1,this.settings.ctry=r,this.settings.views=o,this.settings.reflink="https://sumo.com/?src=sm-lb-"+this.api.properties.siteId+"&utm_source=sumo-powered-by&utm_medium=list-builder&utm_campaign="+this.api.properties.siteId,this.settings.animation=t.animation,this.settings.countdown_end=t.countdown_end,this.settings.countdown_format=t.countdown_format,this.settings.countdown_pos=t.countdown_pos,this.settings.popup_mode=t.cta_mode,this.settings.cta_url=t.cta_url,this.settings.cta_target=t.cta_target,this.settings.twitter_username=t.twitter_username,this.settings.pinterest_username=t.pinterest_username,this.settings.facebook_like_url=t.facebook_like_url,this.settings.disclaimer=t.disclaimer,this.settings.disclaimer_text=t.disclaimer_text,this.settings.ignore_cookie=t.ignore_cookie,this.settings.optout_cookie=t.optout_cookie,this.settings.display_mode=t.display_mode,this.settings.form_sync=t.form_sync;var l=["56696fd2-9edf-473f-9aba-a952a5723fb7"];this.settings.powerVariant=l[0];var u=!1;u=this.settings.ignore_cookie?e.cookie(this.cookieName)&&"true"===e.cookie(this.cookieName):"always"===this.settings.cookie_lifetime_interval&&"email"===this.settings.popup_mode?e.cookie(this.subCookieName)&&"true"===e.cookie(this.subCookieName):"always"===this.settings.cookie_lifetime_interval&&"cta"===this.settings.popup_mode?e.cookie(this.ctaCookieName)&&"true"===e.cookie(this.ctaCookieName):"email"===this.settings.popup_mode?e.cookie(this.subCookieName)&&"true"===e.cookie(this.subCookieName)||e.cookie(this.cookieName)&&"true"===e.cookie(this.cookieName):"cta"===this.settings.popup_mode?e.cookie(this.ctaCookieName)&&"true"===e.cookie(this.ctaCookieName)||e.cookie(this.cookieName)&&"true"===e.cookie(this.cookieName):e.cookie(this.cookieName)&&"true"===e.cookie(this.cookieName),this.settings.optout_cookie&&e.cookie(this.optOutCookieName)&&"true"===e.cookie(this.optOutCookieName)&&(u=!0);var c=e.proxy(function(){!u&&n&&(this.api.emit(_+"/service/intent/show"),this.preloadFonts(),"smart"===this.settings.popupMode&&"embedded"!==this.settings.display_mode?this.showOnExit():this.showOnStartup("embedded"===this.settings.display_mode?0:this.settings.beforeShowDelay))},this);"embedded"===this.settings.display_mode?e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/listbuilder/load/embedcodes",data:{site_id:this.api.properties.siteId,campaign_id:this.settings.campaignId},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){var i=t.embedCodes;if(i&&i.length){for(var n='[data-sumome-listbuilder-embed-id="'+i[0].id+'"]',r=1;r<i.length;r++)n+=',[data-sumome-listbuilder-embed-id="'+i[r].id+'"]';this.$possibleAnchors=e(n)}c()},this)):c()}},this))},shadeColor:function e(t,i){t=t.toString();var n=parseInt(t.slice(1),16),r=Math.round(2.55*i),o=(n>>16)+r,s=(n>>8&255)+r,a=(255&n)+r;return"#"+(16777216+65536*(o<255?o<1?0:o:255)+256*(s<255?s<1?0:s:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)},closeEmbeddedPopup:function t(){e(window).off(".embedded-listbuilder-resize"),this.$modal.find(".sumome-popup-content").animate({left:-e(window).width(),opacity:0},250,"linear",e.proxy(function(){this.$modal.find(".sumome-popup-content").animate({height:0},250,"linear",e.proxy(function(){this.$modal.remove()},this))},this))},findEmbeddedAnchor:function t(){var i=this.$possibleAnchors?this.$possibleAnchors.eq(0):null;if(i&&i.length)return i;var n=e(this.articles).sort(function(t,i){return e(t).height()>e(i).height()?-1:1}).eq(0),r=n.height(),o=n.width();if(n&&n.length){var s=n.find("*").filter(function(){return"inline"!==e(this).css("display")&&(e(this).width()===o||e(this).parent().is(n))&&-1===["left","right"].indexOf(e(this).css("float"))&&!e(this).next().is("h1,h2,h3,h4,h5,h6")&&0===e(this).parents().filter(function(){return"fixed"===e(this).css("position")||"none"===e(this).css("display")||"hidden"===e(this).css("visibility")||e(this).is("a, ul, ol, table, button")}).length});if(s&&s.length)return s.sort(function(t,i){return Math.abs(e(t).offset().top-r/2)<Math.abs(e(i).offset().top-r/2)?-1:1}),s.eq(0)}return i},getSumoBadge:function e(){return'<div><a class="powered-by-sumo" style="bottom: -40px;" target="_blank"><p>POWERED BY</p><div class="sumo-logo"><?xml version="1.0" encoding="utf-8 "?><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 515.7 93.8" style="enable-background:new 0 0 515.7 93.8;" xml:space="preserve"><style type="text/css">.st0{fill:#0F74B5;}.st1{opacity:0.2;fill:#041D2D;}.st2{fill:#FFFFFF;}</style><g><g><g><g><path class="st0" d="M19.1,89.7h124.2l18.7-70c0.7-2.5-2.2-4.5-4.3-2.9l-39.5,29.6L83.3,1c-1.1-1.4-3.3-1.3-4.3,0.1L45,46.5L4.4,16.7c-2.1-1.5-5,0.4-4.3,2.9L19.1,89.7z"/></g></g><path class="st1" d="M161.4,21.7c-12.9,46.4-62.6,68-142.4,68l0,0h70h54.2L161.4,21.7L161.4,21.7z"/></g><g><path class="st2" d="M199.1,27.2c0-5.9,4.8-10.6,13.4-10.6c9.5,0,13.9,5.9,16.1,10.1l12.7-5.1C238.9,15.6,231,4,212.7,4c-17.8,0-28.9,9.9-28.9,23.4c0,27.8,43.4,23.7,43.4,42c0,7.3-5.8,11.6-14.5,11.6s-14-4.1-17.1-8.9c-0.8-1.5-1.3-3-1.7-4.5c-0.4-1.8-0.6-3.6-0.6-5.3l-14,0.1c0,6,0.7,9.5,1.5,11.9l0,0c0,0.1,0,0.1,0.1,0.2c0.2,0.6,0.5,1.1,0.7,1.6c0.6,1.4,1.4,2.8,2.4,4.3c0.1,0.2,0.2,0.3,0.3,0.5c1.3,1.9,3,3.8,5.1,5.5l0.1,0.1l0,0c5,4.1,12.2,7.4,22.4,7.4c19,0,30.7-10.9,30.7-25.3C242.8,41.2,199.1,44.2,199.1,27.2z"/><polygon class="st2" points="333.5,4 333.5,92.1 347.2,92.1 345.9,40.9 376.9,79 408,40.9 406.6,92.1 420.4,92.1 420.4,4 376.9,59.1"/><path class="st2" d="M473,4c-24.8,0-42.8,19.5-42.8,44.9c0,25.6,17.9,44.9,42.7,44.9c24.9,0,42.8-19.4,42.8-44.9C515.7,23.6,497.8,4,473,4zM473,80.8c-16.7,0-29.1-13.5-29.1-32c0-18.3,12.3-32,29.1-32c16.6,0,29.1,13.7,29.1,32C502.1,67.4,489.6,80.8,473,80.8z"/><path class="st2" d="M251.4,60.9V7h14.3v53.8c0,12.5,7.2,19.9,20.6,19.9c13.3,0,20.6-7.5,20.6-20.1V7h14.2v53.8c0,19.3-12.9,33-34.8,33C263.8,93.8,251.4,80.6,251.4,60.9z"/></g></g></svg></div><div class="clear"></div></a></div>'},scaleSumoBadge:function e(t,i){if(t>1)var n=1/t;i.css("transform","translateX(-50%) scale("+n+", "+n+")")},setupEmbeddedPopupAdvanced:function t(i){var n=this.findEmbeddedAnchor();if(this.$modal=e('<div class="sumome-listbuilder-embedded-popup sumome-popup-content sumome-popup-content-default sumome-popup-content-advanced"></div>'),this.$modal.append('<div class="sumome-popup"><div class="sumome-popup-content"><div class="sumome-popup-scale">'+i.advancedForm+"</div></div></div>"),this.$modal.find("input").removeAttr("autofocus"),this.$modal.css({position:"relative",top:0,left:"50%",width:"100%",transform:"translateX(-50%)",bottom:0,display:"inline-block",margin:"10px 0 10px 0","border-radius":"5px"}),this.$modal.find(".sumome-popup-content").eq(0).css({position:"relative"}),this.$modal.find(".sumome-popup-scale").css({position:"relative",top:0,left:0,width:"auto"}),!n||!n.length)return!1;if(n.after(this.$modal),this.api.emit("event",{appId:_,event:"popup-advanced"}),this.api.emit("event",{appId:_+"."+i.popupId,event:"popup-advanced"}),this.api.emit("event",{appId:_+"."+i.campaignId,event:"popup-advanced"}),this.api.emit("event",{appId:_+"."+i.popupId+"."+i.campaignId,event:"popup-advanced"}),!("starter"in i&&i.starter||i.pro)){var r=this.$modal.find(".sumome-popup-content");r.eq(0).css({"margin-bottom":"52px"});var o=e(this.getSumoBadge());setTimeout(e.proxy(function(){var e=o.find(".powered-by-sumo");r.append(o)},this),1400),o.on("click",e.proxy(function(){this.api.emit("event",{appId:"2d1fffc9-378f-4b61-ac79-2dc8a077b827",event:"powered-by-click:"+_+":"+i.powerVariant}),window.open(i.reflink)},this))}return!0},setupNormalPopupAdvanced:function t(i){this.$modal=l.open({content:i.advancedForm,overlayClosesOnClick:!1,className:"sumome-popup sumome-popup-mode-subscribe sumome-popup-"+i.contentWidth,overlayClassName:"sumome-popup-overlay",contentClassName:"sumome-popup-content sumome-popup-content-default sumome-popup-content-advanced",closeClassName:"sumome-popup-close"}),this.$modal.on("vexResize",e.proxy(function(t,i){var n=Math.max(Math.floor((e(window).height()-i.$vexContent.outerHeight())/2),0);i.$vex.css({"padding-top":n+"px"})},this)),this.$modal.on("vexOpen",e.proxy(function(t,n){if(n.$vexContent.on("sized",e.proxy(function(){this.$modal.resize()},this)),!("starter"in this.settings&&this.settings.starter||this.settings.pro)){var r=e(this.getSumoBadge());setTimeout(e.proxy(function(){this.$modal.append(r)},this),1400),r.on("click",e.proxy(function(){this.api.emit("event",{appId:"2d1fffc9-378f-4b61-ac79-2dc8a077b827",event:"powered-by-click:"+_+":"+this.settings.powerVariant}),window.open(this.settings.reflink)},this))}this.api.emit("event",{appId:_,event:"popup-advanced"}),this.api.emit("event",{appId:_+"."+i.popupId,event:"popup-advanced"}),this.api.emit("event",{appId:_+"."+i.campaignId,event:"popup-advanced"}),this.api.emit("event",{appId:_+"."+i.popupId+"."+i.campaignId,event:"popup-advanced"}),this.api.emit("setProperties",{yield:!0}),this.$modal.resize()},this)),this.$optoutEl=this.$modal.find(".sumome-popup-optout"),this.$optoutEl.on("click",e.proxy(function(){this.setOptOutCookie(),this.close(i)},this)),this.overlayTouchTarget=!1,this.addTouchModalDismiss(i,"sumome-popup-overlay"),this.$modal.resize()},setupNormalPopup:function t(i,n){var r=e('<div><div class="sumome-popup-scale">'+n+"</div></div>");this.$modal=l.open({content:r.html(),customCloseButton:null!==i.template,overlayClosesOnClick:!1,className:"sumome-popup sumome-popup-mode-subscribe",overlayClassName:"sumome-popup-overlay",contentClassName:"sumome-popup-content sumome-popup-res-medium sumome-popup-template-"+i.templateSlug+" sumome-popup-content-"+i.templateSlug,closeClassName:"sumome-popup-close",openClassName:"sumome-popup-preload",beforeClose:function e(t,i){t.removeClassPrefix("sumome-animated")}}),this.$modal.on("vexResize",e.proxy(function(t,n){var r=n.$vexContent.find(".sumome-popup-scale"),o=navigator.userAgent.toLowerCase(),s=o.indexOf("android")>-1,a=e(window).width(),l=e(window).height();s&&(a=screen.availWidth,l=screen.availHeight);var u={small:400,medium:512,large:640,xlarge:720,sumo:8192},c,p;"starter"in i&&i.starter&&i.pro?(c=.98,p=.98):(c=.75,p=.75);var d=Math.min(u[i.contentWidth],a*c),h=Math.min(u[i.contentWidth],l*p),f=r.outerWidth(),m=r.outerHeight();ratio=Math.min(d/f,h/m),r.css("transform","translate(-50%,-50%)"+(ratio<1?" scale("+ratio+")":"")+" translateZ(0)").css("MozTransform","translate(-50%,-50%) scale("+ratio+") translateZ(0)").css("zoom",Math.max(1,ratio))},this)),this.$modal.on("vexOpen",e.proxy(function(t,n){if(n.$vexContent.on("sized",e.proxy(function(){},this)),n.$vexContent.imagesLoaded(e.proxy(function(){this.$modal.closest(".sumome-popup-preload").removeClass("sumome-popup-preload"),!0!==i.easy_mobile&&this.$modal.find("input[type=text], input[type=email], textarea").filter(":visible").first().forceFocus(),this.api.emit("event",{appId:_,event:"email"===i.popup_mode?"popup":"cta"}),this.api.emit("event",{appId:_+"."+i.popupId,event:"email"===i.popup_mode?"popup":"cta"}),this.api.emit("event",{appId:_+"."+i.campaignId,event:"email"===i.popup_mode?"popup":"cta"}),this.api.emit("event",{appId:_+"."+i.popupId+"."+i.campaignId,event:"email"===i.popup_mode?"popup":"cta"}),this.api.emit("setProperties",{yield:!0}),this.$modal.resize(),this.$modal.animateClass("sumome-animated-"+(i.animation?i.animation.slug:"default"))},this)),!("starter"in i&&i.starter||i.pro)){var r=e(this.getSumoBadge());setTimeout(e.proxy(function(){var e=this.$modal.find(".sumome-popup-form"),t=r.find(".powered-by-sumo");this.scaleSumoBadge(ratio,t),e.append(r)},this),1400),r.on("click",e.proxy(function(){this.api.emit("event",{appId:"2d1fffc9-378f-4b61-ac79-2dc8a077b827",event:"powered-by-click:"+_+":"+this.settings.powerVariant}),window.open(this.settings.reflink)},this))}n.$vexContent.find("input[type=text], input[type=email], textarea").filter(":visible").first().focus(),this.$modal.resize()},this)),this.overlayTouchTarget=!1,this.addTouchModalDismiss(i,"sumome-popup-content")},setupEmbeddedPopup:function t(i,n){var r=this.findEmbeddedAnchor();return this.$modal=e('<div class="sumome-listbuilder-embedded-popup sumome-popup-content sumome-popup-res-medium sumome-popup-template-'+i.templateSlug+" sumome-popup-content-"+i.templateSlug+'"></div>'),this.$modal.append('<div class="sumome-popup"><div class="sumome-popup-content"><div class="sumome-popup-scale">'+n+"</div></div></div>"),this.$modal.find("input").removeAttr("autofocus"),this.$modal.css({position:"relative",top:0,left:"50%",transform:"translateX(-50%)",bottom:0,display:"inline-block",margin:"0"}),this.$modal.find(".sumome-popup-content").eq(0).css({position:"relative"}),this.$modal.find(".sumome-popup-scale").css({position:"relative",top:0,left:0}),this.$modal.find(".sumome-popup-close").hide(),this.$modal.find(".sumome-popup-theme").each(function(){e(this)[0].style.setProperty("box-shadow","none","important"),e(this)[0].style.setProperty("-moz-box-shadow","none","important"),e(this)[0].style.setProperty("-webkit-box-shadow","none","important")}),!(!r||!r.length)&&(r.after(this.$modal),this.windowWidth=null,e(window).on("resize.embedded-listbuilder-resize",e.proxy(function(){if(e(window).width()!==this.windowWidth){this.windowWidth=e(window).width();var t=this.$modal.find(".sumome-popup-scale"),n=Math.min(this.$modal.parent().width(),e(window).width()),r=Math.min(this.$modal.parent().height(),e(window).height()),o={small:400,medium:512,large:640,xlarge:720,sumo:8192},s=Math.min(o[i.contentWidth],n);if(ratio=s/(t.css("zoom")?this.$modal.width()/t.css("zoom"):this.$modal.width()),t.css("transform",(ratio<1?" scale("+ratio+")":"")+" translateZ(0)").css("-webkit-transform",(ratio<1?" scale("+ratio+")":"")+" translateZ(0)").css("-moz-transform","scale("+ratio+") translateZ(0)").css("zoom",Math.max(1,ratio)),!t.css("zoom")){var a=ratio*t.width(),l=ratio*t.height(),u=(l-t.height())/2;this.$modal.css("margin-top",u).css("margin-bottom",u)}if(!("starter"in i&&i.starter||i.pro)){var c=e(this.getSumoBadge());t.css("margin-bottom","52px"),setTimeout(e.proxy(function(){var e=this.$modal.find(".sumome-popup-form"),t=c.find(".powered-by-sumo");this.scaleSumoBadge(ratio,t),e.append(c)},this),1400),c.on("click",e.proxy(function(){this.api.emit("event",{appId:"2d1fffc9-378f-4b61-ac79-2dc8a077b827",event:"powered-by-click:"+_+":"+i.powerVariant}),window.open(i.reflink)},this))}}},this)),this.api.emit("event",{appId:_,event:"email"===i.popup_mode?"popup":"cta"}),this.api.emit("event",{appId:_+"."+i.popupId,event:"email"===i.popup_mode?"popup":"cta"}),this.api.emit("event",{appId:_+"."+i.campaignId,event:"email"===i.popup_mode?"popup":"cta"}),this.api.emit("event",{appId:_+"."+i.popupId+"."+i.campaignId,event:"email"===i.popup_mode?"popup":"cta"}),!0)},close:function e(t){"embedded"===t.display_mode?this.closeEmbeddedPopup():"normal"===t.display_mode&&l.close(this.$modal.data().vex.id)},show:function t(r){var o=this,a=r&&r in this.settings.triggers&&this.settings.triggers[r],l=a?this.settings.triggers[r]:this.settings;if(!(this.hasShown||this.yield||l.yield&&this.api.properties.yield)||r||"embedded"===this.settings.display_mode){if(this.hasShown=!0,e(document).off(".listbuilder"),e(window).off(".listbuilder"),-1!==l.cookieLifetime){var p=new Date;switch(l.cookieLifetimeInterval){case"minute":p.setMinutes(p.getMinutes()+l.cookieLifetime);break;case"hour":p.setHours(p.getHours()+l.cookieLifetime);break;case"day":p.setDate(p.getDate()+l.cookieLifetime);break;case"month":p.setMonth(p.getMonth()+l.cookieLifetime);break;case"year":p.setFullYear(p.getFullYear()+l.cookieLifetime);break;case"always":p.setMinutes(p.getMinutes())}e.cookie(this.cookieName,"always"!==l.cookieLifetime,{expires:p,path:"/"})}if(l.advancedForm)if("embedded"===l.display_mode){if(!this.setupEmbeddedPopupAdvanced(l))return void this.close(l)}else this.setupNormalPopupAdvanced(l);else{l.template||(l.templateHtml=h,l.templateSlug="default");var m=l.templateHtml.replace(/\/\/load.(dev.)?sumo(me)?.com\/client\//g,this.api.properties.baseUrl),g=m.match(/\{sm\:.*?\}/g);if(g){var v=[],y=[];if(g.forEach(e.proxy(function(e){var t=e.replace(/([\{\}]|sm\:)/g,""),i=t.split("|");if(i.length>1){var n=i[1].split(":");m=m.replace(e,this.shadeColor(l[i[0]],parseInt(n[1])))}else if("backgroundImage"==t)m=l.mediaId===this.transparentPng_id?m.replace(e,"background-image: url('"+this.transparentPng+"') !important;"):l.mediaId?m.replace(e,"background-image: url('//media.sumo.com/"+l.mediaId+"') !important;"):m.replace(e,"");else if("mediaUrl"==t)m=m.replace(e,"//media.sumo.com/");else if("Font"==t.substr(-4)){var r=l[t];if(r){var o=r.split(":"),s=o[0].split(","),a=s.shift(),u=o[1]?o[1]:400;s.unshift("'"+a+"'"),s.length&&(m=m.replace(new RegExp(e,"g"),"font-family: "+s.join(",")+" !important;"),y.push(a),v.push(a.replace(/ /g,"+")+":"+u))}else m=m.replace(e,"")}else m=m.replace(e,l[i[0]])},this)),v.length){v=n.uniq(v),y=n.uniq(y),y.forEach(function(t){new i(t).load().then(function(t){e(window).trigger("resize")},function(e){})});var m='<link href="//fonts.googleapis.com/css?family='+v.join("|")+'" type="text/css" rel="stylesheet">'+m}}if(l.animation&&(m="<style>"+l.animation.css+"</style>"+m),"embedded"===l.display_mode){if(!this.setupEmbeddedPopup(l,m))return void this.close(l)}else this.setupNormalPopup(l,m);l.mediaId===this.transparentPng_id?this.$modal.find(".sumome-popup-media").attr("src",this.transparentPng).show():l.mediaId?this.$modal.find(".sumome-popup-media").attr("src","//media.sumo.com/"+l.mediaId).show():this.$modal.find(".sumome-popup-media").each(function(){e(this).attr("src",e(this).data("preview-src")).show()}),this.findAndStyleElements(l),l.headingText?this.$headingEl.html(l.headingText):(this.$headingEl.html(""),this.$headingEl.hide()),this.$textEl.html(l.blurbText),this.setTimer(l),this.$buttonTextEl.text(l.buttonText),l.optoutText?(this.$modal.closest(".sumome-popup-content").addClass("sumome-popup-has-optout"),this.$optoutTextEl.text(l.optoutText)):this.$optoutEl.hide(),this.$inputEl.attr("placeholder",l.placeholderText);var b=this.$modal.find(".sumome-popup-field-template");0==b.length&&(b=null),this.$inputEl=this.$modal.find(".sumome-popup-input").filter(":last");var w={input:this.$modal.find(".sumome-popup-input").filter(":last"),checkbox:this.$modal.find(".sumome-popup-checkbox"),radio:this.$modal.find(".sumome-popup-radio"),radio_header:this.$modal.find(".sumome-popup-radio-header"),checkbox_header:this.$modal.find(".sumome-popup-checkbox-header"),select:this.$modal.find(".sumome-popup-select")};if(w.radio.length<1&&(w.radio=e('<label class="sumome-popup-radio"><input type="radio" /> Click me</label>')),w.radio_header.length<1&&(w.radio_header=e('<label class="sumome-popup-radio-header">Select one</label>')),w.checkbox_header.length<1&&(w.checkbox_header=e('<label class="sumome-popup-checkbox-header">Select one</label>')),w.checkbox.length<1&&(w.checkbox=e('<label class="sumome-popup-checkbox"><input type="checkbox" /> Click me</label>')),w.select.length<1&&(w.select=e('<select class="sumome-popup-select"><option value="" disabled selected>Select an option</option></select>')),"email"==l.popup_mode){var k=f,S=b||this.$inputEl,$=[];S.removeClass("sumome-popup-field-template"),S.prop("id",null);var E=null,C=0,T;if(l.fields.forEach(e.proxy(function(t,i,n){var r=this.getVariableName(t.field_name,t.field_variable);switch(C++,t.field_type){case"select":case"country":if(T=w.select.clone(),"country"==t.field_type)d.forEach(function(t){T.append(e("<option />").val(t).text(t))});else try{var o=s.parse(t.field_data);e.isArray(o)&&o.forEach(function(t){t.hasOwnProperty("value")&&t.hasOwnProperty("name")&&T.append(e("<option />").prop("value",t.value).text(t.name))})}catch(e){}T.prop("name",r),T.data("sumome-field-name",t.field_name),T.data("sumome-field-type",t.field_type),T.find('option[value=""]').text(t.field_placeholder?t.field_placeholder:"Enter your "+t.field_name),t.required&&T.prop("required",!0),T.addClass("sumome-popup-select-placeholder"),S.before(T),T.on("change",function(){e(this).val()?e(this).removeClass("sumome-popup-select-placeholder"):e(this).addClass("sumome-popup-select-placeholder")});break;case"checkbox":T=w.checkbox.clone(),T.find("input").prop("name",r),T.find("input").prop("value",t.field_data),T.find("input").data("sumome-field-name",t.field_name),
T.find("input").data("sumome-field-type",t.field_type),T.contents().filter(function(){return 3===this.nodeType&&""!=e.trim(this.textContent)})[0].textContent=" "+(t.field_placeholder?t.field_placeholder:t.field_name),t.required&&T.find("input").prop("required",!0),S.before(T);break;case"radio":T=w.radio_header.clone(),T.text(t.field_placeholder?t.field_placeholder:"Choose a "+t.field_name),S.before(T);try{var o=s.parse(t.field_data);e.isArray(o)&&o.forEach(function(i){C++,T=w.radio.clone(),T.find("input").prop("name",r),T.find("input").prop("value",i.value),T.find("input").data("sumome-field-name",t.field_name),T.find("input").data("sumome-field-type",t.field_type),t.required&&T.find("input").prop("required",!0),T.contents().filter(function(){return 3===this.nodeType&&""!=e.trim(this.textContent)})[0].textContent=" "+i.name,S.before(T)})}catch(e){}break;case"checkbox_group":T=w.checkbox_header.clone(),T.text(t.field_placeholder?t.field_placeholder:"Choose a "+t.field_name),S.before(T);try{var o=s.parse(t.field_data);e.isArray(o)&&o.forEach(function(i){C++,T=w.checkbox.clone(),T.find("input").prop("name",r),T.find("input").prop("value",i.value),T.find("input").data("sumome-field-name",t.field_name),T.find("input").data("sumome-field-type",t.field_type),t.required&&T.find("input").prop("required",!0),T.contents().filter(function(){return 3===this.nodeType&&""!=e.trim(this.textContent)})[0].textContent=" "+i.name,S.before(T)})}catch(e){}break;case"hidden":var a=e('<input type="hidden" />');return S.before(a),a.addClass("sumome-popup-hidden"),a.prop("name",r),a.prop("value",t.field_data),a.data("sumome-field-name",t.field_name),a.data("sumome-field-type",t.field_type),void C--;default:T=S.clone(),S.before(T),T.prop("placeholder",t.field_placeholder?t.field_placeholder:"Enter your "+t.field_name),T.prop("name",r),T.data("sumome-field-name",t.field_name),T.data("sumome-field-type",t.field_type),t.required&&T.prop("required",!0),T.addClass("sumome-popup-input").show()}E=t},this)),T&&E){T.addClass("sumome-popup-last");var I=E.field_type;"country"==I?I="select":"checkbox_group"==I?I="checkbox":["radio","checkbox","checkbox_group","select"].indexOf(I)<0&&(I="input"),this.$buttonEl.addClass("sumome-popup-last-"+I)}C>1&&this.$buttonEl.addClass("sumome-popup-multiple-fields")}b&&b.remove();for(var A in w)w[A].remove();if(this.$inputEl.remove(),this.$inputEl=this.$modal.find(".sumome-popup-input, .sumome-popup-hidden, .sumome-popup-select, .sumome-popup-checkbox input, .sumome-popup-radio input"),this.$inputEl.not('[type="hidden"]').attr("autocomplete","on"),this.$inputEl.not('[type="hidden"]').filter('[name="email"]').attr("type","email").attr("x-autocompletetype","email"),this.$modal.find(".sumome-popup-input, .sumome-popup-hidden, .sumome-popup-select, .sumome-popup-checkbox, .sumome-popup-radio, .sumome-popup-radio-header, .sumome-popup-checkbox-header").wrapAll('<form autocomplete="on" />'),this.$modal.resize(),"email"==l.popup_mode){if(l.disclaimer){this.$disclaimerLabelEl=e('<label class="sumome-popup-checkbox"><input type="checkbox" /></label>'),this.$disclaimerLabelEl.addClass("sumome-popup-disclaimer"),this.$disclaimerLabelEl.find("input").prop("name","DISCLAIMER"),this.$disclaimerLabelEl.append(" "+l.disclaimer_text);var O=this.$modal.find(".sumome-popup-disclaimer-wrapper").eq(0);O.length>0?(O.css("display",""),O.append(this.$disclaimerLabelEl)):Math.round(this.$inputEl.filter(":last").offset().top)===Math.round(this.$buttonEl.eq(0).offset().top)?this.$buttonEl.eq(0).after(this.$disclaimerLabelEl):this.$buttonEl.eq(0).before(this.$disclaimerLabelEl)}e.browser.mobile&&(this.$inputEl.filter('[name="email"]').blur(),l.by_email&&this.$inputEl.filter('[name="email"]').hide()),l.easy_mobile&&this.$inputEl.filter('[name="email"]').on("click",e.proxy(function(e){this.easySubOpenPopUp(l)},this)),this.$inputEl.filter('[name="email"]').emailautocomplete({}),this.$inputEl.on("keyup change paste",e.proxy(function(e){},this)),this.$inputEl.on("keydown",e.proxy(function(e){13===e.keyCode&&(this.$buttonEl.trigger("click"),e.preventDefault())},this)),this.$optoutEl.on("click",e.proxy(function(){this.setOptOutCookie(),this.close(l)},this)),this.$closeButton.on("click",e.proxy(function(){this.setOptOutCookie(),"embedded"===l.display_mode&&this.closeEmbeddedPopup()},this)),this.$buttonEl.on("click",e.proxy(function(){if(!this.continueMode&&!this.$buttonEl.data("sumome-disabled")){var t=/\S+@\S+\.\S/,i=!1,n=(this.$inputEl.filter('[name="email"]').val()||"").trim(),r={};if(this.$inputEl.each(e.proxy(function(t,n){var o=e(n).prop("name"),s=e(n).data("sumome-field-name"),a=e(n).data("sumome-field-type"),u=e(n).prop("required"),c=e.trim(e(n).val());if(o&&s)if(e(n).is("[type=radio]")||e(n).is("[type=checkbox]")){if(e(n).is(":checked"))r[o]={name:s,type:a,value:c};else if(e(n).attr("required")){var p=this.$inputEl.filter('[name="'+o+'"]:checked');p&&p.length||(i=e(n))}}else{r[o]={name:s,type:a,value:c};var d=e.browser.mobile&&l.by_email&&!x.settings.by_email_failed&&e(n).is('[name="email"]'),h=l.easy_mobile&&e(n).is('[name="email"]');if(!d&&!h&&u&&!c)return i=e(n),!1}},this)),this.$inputEl.filter("[type=radio][required]").each(function(){var t=e(this).prop("name");if(!r.hasOwnProperty(t))return i=e(this),!1}),!i&&this.$disclaimerLabelEl){var o=this.$disclaimerLabelEl.find("input[type=checkbox]").eq(0);o&&!o.prop("checked")&&(i=this.$disclaimerLabelEl)}x.$errorEl.text("").hide(),i?(i.focus(),this.$modal.animateClass("sumome-animated-shake")):this.logEmail(r,l)}},this))}else"cta"==l.popup_mode?(o.$buttonEl.on("click",function(){function t(){if(!l.cta_url)return void o.$closeButton.trigger("click");"new"===l.cta_target?(window.open(l.cta_url,"_blank"),o.$closeButton.trigger("click")):setTimeout(function(){window.location=l.cta_url},1e3)}o.api.emit("event",{appId:_,event:"click"}),o.api.emit("event",{appId:_+"."+l.popupId,event:"click"}),o.api.emit("event",{appId:_+"."+l.campaignId,event:"click"}),o.api.emit("event",{appId:_+"."+l.popupId+"."+l.campaignId,event:"click"});var i=new Date;if(i.setFullYear(i.getFullYear()+10),e.cookie(o.ctaCookieName,!0,{expires:i,path:"/"}),o.settings.pro&&l.pixels_conversion){var n=e('<div style="position:absolute !important;width:0 !important;height:0 !important;top:0px !important;left:0px !important;margin:0 !important;padding:0 !important;font-size:0 !important;background:transparent !important;"></div>'),r=c.injectVars(l.pixels_conversion,{"subscriber-email":""});e("body").append(n),u.postscribe(n.get(0),r,{done:t})}else t()}),this.$optoutEl.on("click",e.proxy(function(){this.setOptOutCookie(),this.close(l)},this)),this.$closeButton.on("click",e.proxy(function(){this.setOptOutCookie(),"embedded"===l.display_mode&&this.closeEmbeddedPopup()},this))):"twitter-follow"===l.popup_mode?(this.$optoutEl.remove(),this.$closeButton.on("click",e.proxy(function(){this.setOptOutCookie(),"embedded"===l.display_mode&&this.closeEmbeddedPopup()},this))):"facebook-like"===l.popup_mode?(this.$optoutEl.remove(),this.$closeButton.on("click",e.proxy(function(){this.setOptOutCookie(),"embedded"===l.display_mode&&this.closeEmbeddedPopup()},this)),o.$socialEl=o.$modal.find(".sumome-popup-social"),o.$socialEl.iframeTracker({blurCallback:function e(){o.$socialEl.data("sumome-disabled")||(o.$socialEl.data("sumome-disabled",!0),o.api.emit("event",{appId:_,event:"click"}),o.api.emit("event",{appId:_+"."+l.popupId,event:"click"}),o.api.emit("event",{appId:_+"."+l.campaignId,event:"click"}),o.api.emit("event",{appId:_+"."+l.popupId+"."+l.campaignId,event:"click"}))}})):"pinterest-follow"===l.popup_mode&&(o.$optoutEl.remove(),o.$closeButton.on("click",e.proxy(function(){o.$modal.off("click.pinterest"),this.setOptOutCookie(),"embedded"===l.display_mode&&this.closeEmbeddedPopup()},this)),o.$modal.on("click.pinterest",'span[data-pin-log="button_follow"]',function(){var t=e(this);t.data("sumome-disabled")||(t.data("sumome-disabled",!0),o.api.emit("event",{appId:_,event:"click"}),o.api.emit("event",{appId:_+"."+l.popupId,event:"click"}),o.api.emit("event",{appId:_+"."+l.campaignId,event:"click"}),o.api.emit("event",{appId:_+"."+l.popupId+"."+l.campaignId,event:"click"}))}))}if(this.spinnerLoadingHTML='<i class="sumome-list-builder-loading-spinner sumome-list-builder-loading-spinning" style="border-color:'+this.toRGBA(l.buttonForeColor,66)+";border-top-color:"+this.toRGBA(l.buttonForeColor,33)+';"></i><span class="sumome-list-builder-loading-status"></span>',"pro"in this.settings&&this.settings.pro&&"pixelsShown"in l&&l.pixelsShown){var L=e('<div style="position:absolute !important;width:0 !important;height:0 !important;top:0px !important;left:0px !important;margin:0 !important;padding:0 !important;font-size:0 !important;background:transparent !important;"></div>');e("body").append(L),u.postscribe(L.get(0),l.pixelsShown)}l.easy_mobile&&this.easySubInitListener(l)}},preloadFonts:function e(t){return;var i,n,r,o,s,a,l},getVariableName:function e(t,i){return i||(i=t.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"")),i},findAndStyleElements:function t(i){this.$headingEl=this.$modal.find(".sumome-popup-heading"),this.$textEl=this.$modal.find(".sumome-popup-text"),this.$inputEl=this.$modal.find(".sumome-popup-input"),this.$buttonEl=this.$modal.find(".sumome-popup-button"),this.$buttonTextEl=this.$modal.find(".sumome-popup-button-text"),this.$optoutEl=this.$modal.find(".sumome-popup-optout"),this.$optoutTextEl=this.$modal.find(".sumome-popup-optout-text"),this.$continueButtonEl=this.$modal.find(".sumome-popup-continue"),this.$continueButtonTextEl=this.$modal.find(".sumome-popup-continue-text"),this.$errorEl=this.$modal.find(".sumome-popup-form div.sumome-popup-error").hide(),this.$closeButton=this.$modal.find(".sumome-popup-close"),this.$closeButton.style("color",i.textColor,"important"),!i.advancedForm&&i.template&&this.$modal.style("background-color","transparent","important");var n=e('<div class="sumome-popup-social-wrapper">');if("twitter-follow"===i.popup_mode)this.$buttonEl.hide(),this.$buttonEl.parent().append(n),y.followButton(i.twitter_username?i.twitter_username:"SumoMe",n[0],e.proxy(function(t){this.$socialEl=e(t),this.$socialEl.iframeTracker({blurCallback:e.proxy(function e(){this.$socialEl.data("sumome-disabled")||(this.$socialEl.data("sumome-disabled",!0),this.api.emit("event",{appId:_,event:"click"}),this.api.emit("event",{appId:_+"."+i.popupId,event:"click"}),this.api.emit("event",{appId:_+"."+i.campaignId,event:"click"}),this.api.emit("event",{appId:_+"."+i.popupId+"."+i.campaignId,event:"click"}))},this)})},this));else if("facebook-like"===i.popup_mode)n.append('<iframe class="sumome-popup-social sumome-facebook-social" src="//www.facebook.com/plugins/like.php?href='+encodeURIComponent(i.facebook_like_url?i.facebook_like_url:"https://www.facebook.com/sumo")+'&width=300&layout=button_count&action=like&show_faces=false&share=false&height=20&appId=859406404089021" height="20" width="80" scrolling="no" frameborder="0" style="border:none; overflow:hidden;" allowTransparency="true"></iframe>'),this.$buttonEl.hide().after(n);else if("pinterest-follow"===i.popup_mode){n.append('<a style="visibility: hidden;" class="sumome-listbuilder-pinterest-follow-button" data-pin-do="buttonFollow" href="https://www.pinterest.com/'+(i.pinterest_username?i.pinterest_username:"Pinterest")+'">'+(i.pinterest_username?i.pinterest_username:"Pinterest")+"</a>"),this.$buttonEl.hide().after(n);var r={load:function t(i){this.get()?i():e.getScript("//assets.pinterest.com/js/pinit.js",i)},get:function e(){for(var t in window)if(0==t.indexOf("PIN_")&&"object"==o(window[t]))return window[t]},isLoaded:function e(){return!!this.get()},render:function e(t){this.isLoaded()&&this.get().f.seek.buttonFollow(t)}};r.load(function(){r.render(n.find(".sumome-listbuilder-pinterest-follow-button")[0])})}this.$templateTimerWrapEl=this.$modal.find(".sumome-popup-countdown-wrapper"),this.$templateTimerWrapEl[0]||(this.$templateTimerWrapEl=null)},toRGBA:function e(t,i){return t=t.replace("#",""),r=parseInt(t.substring(0,2),16),g=parseInt(t.substring(2,4),16),b=parseInt(t.substring(4,6),16),result="rgba("+r+","+g+","+b+","+i/100+")",result},continueContent:function t(i,n){this.$modal.removeClass("sumome-popup-mode-subscribe").addClass("sumome-popup-mode-success"),this.continueMode=!0,this.$modal.find(".sumome-popup-select, .sumome-popup-input, .sumome-popup-radio, .sumome-popup-checkbox, .sumome-popup-radio-header, .sumome-popup-checkbox-header, .sumome-eac-input-wrap").remove(),this.$buttonEl.remove(),this.$optoutEl.remove(),this.$continueButtonTextEl.text(i.continueButtonText),this.$continueButtonEl.show(),i.continueHeadingText?this.$headingEl.text(i.continueHeadingText).show():this.$headingEl.hide(),this.$textEl.html(i.continueBlurbText),this.$continueButtonEl.on("click",e.proxy(function(){i.subscribeRedirectUrl&&!i.skipSuccessPopup?w(n,i,0):(x.continueMode=!1,this.close(i))},this)),this.$modal.trigger("resize"),setTimeout(e.proxy(function(){i.subscribeRedirectUrl&&!i.skipSuccessPopup?w(n,i,0):this.$continueButtonEl.trigger("click")},this),1e4)},logEmail:function t(i,n){var r=e.browser.mobile&&n.by_email&&!this.settings.by_email_failed;this.$buttonEl.data("sumome-disabled",!0),this.$buttonTextEl.html(this.spinnerLoadingHTML),this.logEmailPost(i,n,r)},logEmailPost:function i(n,r,o){"string"==typeof n&&(n={email:{name:"Email",type:"email",value:n}});var a=null;r.form_sync&&(a=new t(r.form_sync,r.fields),a.install(n));var l="string"==typeof n.email?n.email:n.email.value;this.$errorEl.hide(),e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/list/subscribe"+(o?"/byemail":""),data:{site_id:this.api.properties.siteId,visitor_id:this.api.properties.visitorId,app_id:_,popup_id:r.popupId,object_id:r.popupId+","+r.campaignId,sumolist_id:r.campaignId,href:window.location.href||null,ref:document.referrer||null,fields:s.stringify(n)},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){if(t&&"success"in t&&t.success){var i=e.proxy(function(){a&&a.submit(),r.subscribeRedirectUrl&&r.skipSuccessPopup?w(l,r,1e3):this.continueContent(r,l)},this),n=e.proxy(function(){o||(this.api.emit("event",{appId:_,event:"subscribe"}),this.api.emit("event",{appId:_+"."+r.popupId,event:"subscribe"}),this.api.emit("event",{appId:_+"."+r.campaignId,event:"subscribe"}),this.api.emit("event",{appId:_+"."+r.popupId+"."+r.campaignId,event:"subscribe"}));var t=new Date;if(t.setFullYear(t.getFullYear()+10),e.cookie(this.subCookieName,!0,{expires:t,path:"/"}),"pro"in this.settings&&this.settings.pro&&r.pixelsConversion){var n=e('<div style="position:absolute !important;width:0 !important;height:0 !important;top:0px !important;left:0px !important;margin:0 !important;padding:0 !important;font-size:0 !important;background:transparent !important;"></div>'),s=c.injectVars(r.pixelsConversion,{"subscriber-email":l});e("body").append(n),u.postscribe(n.get(0),s,{done:i})}else i()},this),s=e.proxy(function(){var i=document.createElement("a");i.href="mailto:sumome%2B"+t.sub_by_email_id+"%40mailin.sumome.com?subject=Subscribe%20Me&body=Just%20send%20this%20email%20to%20be%20subscribed%21";var o=function i(){var o,a,u,c=5e3,p=15,d=0,h=e.proxy(function(){e(window).unbind("blur",h),clearTimeout(o),e(window).focus(f)},this),f=e.proxy(function(){e(window).unbind("focus",f),!r.subscribeRedirectUrl||"get"!=r.subscribeRedirectMethod&&"post"!=r.subscribeRedirectMethod?n():a=setInterval(function(){e.ajax({type:"POST",dataType:"json",url:x.api.properties.sumoUrl+"/mailin/check",data:{sub_by_email_id:t.sub_by_email_id},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(e){if(1==e.success)clearInterval(a),l=e.email,n();else if(++d>=15)m();else{var t=100-d/15*100;t<=75&&t>33?x.$buttonTextEl.find(".sumome-list-builder-loading-spinner").css("border-right-color",x.toRGBA(r.buttonForeColor,33)):t<=33&&x.$buttonTextEl.find(".sumome-list-builder-loading-spinner").css("border-right-color",x.toRGBA(r.buttonForeColor,33)).css("border-bottom-color",x.toRGBA(r.buttonForeColor,33));for(var i="&nbsp;Checking",o=0;o<d%4;o++)i+=".";x.$buttonTextEl.find(".sumome-list-builder-loading-status").css("width","100px").html(i)}},this))},1e3)},this),m=e.proxy(function(){e(window).unbind("blur",h),x.$inputEl.filter('[name="email"]').show(),x.$buttonEl.data("sumome-disabled",!1),x.$buttonTextEl.text(r.buttonText),x.settings.by_email_failed=!0;var t=e('<a class="sumome-list-builder-retry-sub-by" href="javascript:void(0);">retry</a>');t.click(function(){x.settings.by_email_failed=!1,x.$inputEl.filter('[name="email"]').blur().hide(),x.$errorEl.text("").hide(),x.$buttonEl.data("sumome-disabled",!0),x.$buttonTextEl.html(x.spinnerLoadingHTML),s()}),x.$errorEl.text("").append("We didn't receive your email. Type it below or ").append(t).append(".").show(),clearInterval(a)},this);e(window).blur(h),u=new Date,o=setTimeout(function(){new Date-u>5010?(h(),f()):m()},5e3)};if(e(i).click(o),document.body.appendChild(i),i.click)"FastClick"in window&&window.FastClick?(o(),window.location.href=i.href):i.click();else if(document.createEvent){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window),i.dispatchEvent(a)}else o(),window.location.href=i.href;document.body.removeChild(i)},this);o?s():n(),r.easy_mobile&&this.easySubWinReceiver&&this.easySubWinReceiver.postMessage({success:!0,email:l},this.easySubPopupOrigin)}else t&&"error"in t?(this.$errorEl.text(t.error).show(),this.$modal.trigger("resize"),setTimeout(e.proxy(function(){this.$buttonEl.data("sumome-disabled",!1),this.$buttonTextEl.text(r.buttonText),this.$modal.trigger("resize")},this),250),r.easy_mobile&&this.easySubWinReceiver&&this.easySubWinReceiver.postMessage({success:!1},this.easySubPopupOrigin)):this.close(r)},this))},showOnStartup:function t(i){window.setTimeout(e.proxy(function(){this.show()},this),1e3*i)},showOnExit:function t(){e(document).on("mousemove.listbuilder",e.proxy(function(e){this.hasMouse=!0,this.mx=e.pageX,this.my=e.pageY,this.lmx>-1&&(this.travel=Math.max(Math.abs(this.mx-this.lmx),Math.abs(this.my-this.lmy))),this.lmx=this.mx,this.lmy=this.my},this)),e(document).on("mouseleave.listbuilder",e.proxy(function(t){var i=e(window).scrollTop(),n=e(window).scrollLeft(),r=e(window).width(),o=.15*r,s=this.my-i,a=this.mx-n;s<=20&&this.travel>=3&&this.show()},this)),e(window).on("blur.listbuilder",e.proxy(function(t){var i=e(window).scrollTop(),n=e(window).scrollLeft(),r=e(window).width(),o=this.my-i,s=this.mx-n;o<=20&&s>=20&&s<=r-20&&this.show()},this)),"ontouchstart"in window||navigator.msMaxTouchPoints?(this.scrollTop=e(window).scrollTop(),e(window).on("scroll.listbuilder",e.proxy(function(t){if(!this.hasMouse){var i=e(window).scrollTop();i<this.scrollTop&&window.setTimeout(e.proxy(function(){this.show()},this),1e3),this.scrollTop=i}},this))):this.hasMouse=!0},bindClickTriggers:function t(){this.prepClassNameClickTriggers();var i=e("[data-sumome-listbuilder-id]:not([data-sumome-trigger])");if(i.length>0){var n=[];i.unbind("click"),e.each(i,e.proxy(function(t,i){var r=e(i).data("sumome-listbuilder-id");n.push(r),e(i).click(function(t){var i=e(this).data("sumome-listbuilder-id"),n=e(this).attr("href")||"",r=e.cookie(x.subCookieName)&&"true"===e.cookie(x.subCookieName),o=i in x.settings.triggers&&"autoRedirectSubscribed"in x.settings.triggers[i]&&x.settings.triggers[i].autoRedirectSubscribed,s=!(1!=e(this).data("content-upgrade")&&!o||0==e(this).data("content-upgrade")),a=i in x.settings.triggers&&"subscribeRedirectUrl"in x.settings.triggers[i]&&x.settings.triggers[i].subscribeRedirectUrl&&x.settings.triggers[i].subscribeRedirectUrl.length>0;if(i&&i in x.settings.triggers&&x.settings.triggers[i]){if(r&&s&&(n.length>0||a)){var l=a?x.settings.triggers[i].subscribeRedirectUrl:n;setTimeout(e.proxy(function(){window.location=l},this),250)}else n.length>=0&&"#"!=n&&!a&&(x.settings.triggers[i].subscribeRedirectUrl=n),x.show(i);t.preventDefault()}else{var n=e(this).attr("href")||"";n.length<=0&&t.preventDefault()}}).attr("data-sumome-trigger",!0);var o=e(i).attr("href"),s=e(i).prop("tagName");o||"A"!=s||e(i).attr("href","")},this));var r=window.location.toString().toLowerCase(),o=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),s=Object.keys(e.cookie());e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/listbuilder/load/triggers",data:{site_id:this.api.properties.siteId,trigger_ids:n,location:r,width:o,articles:this.articles.length,cookie_names:s,referrer:document.referrer,geoLocation:this.api.properties.geoLocation,pageViews:this.api.properties.views,userAgent:navigator.userAgent},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){t&&"success"in t&&t.success&&"triggers"in t&&t.triggers&&e.each(t.triggers,function(e,t){"popup_id"in t&&t.popup_id&&x.addTriggerSettings(t)})},this))}},prepClassNameClickTriggers:function t(){var i=e('[class*="sumome-listbuilder-id-"]');i.each(e.proxy(function(t,n){var r=e(n)[0].className,o=r.indexOf("sumome-listbuilder-id-");r=r.substring(o,o+22+36);var s=r.substring(22,58);i.removeClass(function(e,t){return(t.match(/(^|\s)sumome-listbuilder-id-\S+/g)||[]).join(" ")}),e(n).attr("data-sumome-listbuilder-id",s)},this))},addTriggerSettings:function e(t){return x.settings.triggers[t.id]={id:t.id,popupId:t.popup_id,campaignId:t.campaign_id,popupMode:t.popup_mode?t.popup_mode:"smart",beforeShowDelay:t.before_show_delay,cookieLifetime:t.cookie_lifetime,cookieLifetimeInterval:t.cookie_lifetime_interval,headingText:t.heading_text,blurbText:t.blurb_text,continueHeadingText:t.continue_heading_text,continueBlurbText:t.continue_blurb_text,buttonText:t.button_text,continueButtonText:t.continue_button_text,optoutText:t.optout_text,placeholderText:t.placeholder_text,advancedForm:t.advanced_form,pixelsShown:t.pixels_shown,pixelsConversion:t.pixels_conversion,contentWidth:t.content_width,headingColor:t.heading_color,textColor:t.text_color,modalColor:t.modal_color,buttonForeColor:t.button_fore_color,buttonBackColor:t.button_back_color,optoutForeColor:t.optout_fore_color,optoutBackColor:t.optout_back_color,headingFont:t.heading_font,textFont:t.text_font,subscribeRedirectUrl:t.subscribe_redirect_url,subscribeRedirectMethod:t.subscribe_redirect_method,subscribeRedirectVariable:t.subscribe_redirect_variable,skipSuccessPopup:t.skip_success_popup,template:t.listBuilderTemplate?t.listBuilderTemplate.id:null,templateHtml:t.listBuilderTemplate?t.listBuilderTemplate.html:null,templateSlug:t.listBuilderTemplate?t.listBuilderTemplate.slug:null,mediaId:t.media_id?t.media_id:null,yield:t.yield,fields:t.fields,field_placeholders:t.field_placeholders,by_email:t.by_email,easy_mobile:t.easy_mobile,autoRedirectSubscribed:t.auto_redirect_subscribed,animation:t.animation,countdown_end:t.countdown_end,countdown_format:t.countdown_format,countdown_pos:t.countdown_pos,popup_mode:t.cta_mode,cta_url:t.cta_url,cta_target:t.cta_target,twitter_username:t.twitter_username,pinterest_username:t.pinterest_username,facebook_like_url:t.facebook_like_url,disclaimer_text:t.disclaimer_text,disclaimer:t.disclaimer,display_mode:"normal",starter:t.starter},x.settings.triggers[t.id]},setTimer:function e(t){if(this.$templateTimerWrapEl&&this.$templateTimerWrapEl.css("display","none").html(""),t.countdown_end){var i=this.$textEl;"heading_text"==t.countdown_pos?(this.$headingEl.show(),i=this.$headingEl):"blurb_text"==t.countdown_pos?i=this.$textEl:"template_default"==t.countdown_pos&&this.$templateTimerWrapEl?(i=this.$templateTimerWrapEl,i.css("display","")):i=this.$textEl,m.create(i,t.countdown_end,t.countdown_format,this.$timerEl)}},setOptOutCookie:function t(){var i=new Date;i.setFullYear(i.getFullYear()+10),e.cookie(this.optOutCookieName,!0,{expires:i,path:"/"})},addTouchModalDismiss:function t(i,n){e(document).on("touchstart",function(e){this.overlayTouchTarget=e.target.getAttribute("class")&&e.target.getAttribute("class").indexOf(n)>=0}.bind(this)),e(document).on("touchend",function(e){e.target.getAttribute("class")&&e.target.getAttribute("class").indexOf(n)>=0&&this.overlayTouchTarget&&(e.stopPropagation(),e.preventDefault(),this.overlayTouchTarget=!1,this.close(i))}.bind(this))},easySubOpenPopUp:function t(i){var n={sumolist_id:i.campaignId,site_id:this.api.properties.siteId,popup_id:i.popupId,app_id:_,hostname:window.location.hostname||null,origin:window.location.origin||null,button_text:i.buttonText||null,heading_text:i.headingText||null,href:window.location.href||null,ref:document.referrer||null},r="";for(param in n)0==r.length?r+="?":r+="&",r+=param+"="+n[param];var o=(this.api.properties.sumoUrl.indexOf("dev.sumo.com")>-1?"http:":"https:")+this.api.properties.sumoUrl,s=o+"/easy"+(r.length>0?r:""),a=void 0!=window.screenLeft?window.screenLeft:screen.left,l=void 0!=window.screenTop?window.screenTop:screen.top,u=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,p=640,d=420,h=c/2-210+l,f=u/2-320+a;this.easySubPopupOrigin=o,this.easySubWinReceiver=window.open(s,"_sumo","location=0,menubar=0,scrollbars=0,status=0,toolbar=0,resizable=0,width=640,height=420,top="+h+",left="+f),window.focus&&this.easySubWinReceiver.focus(),this.easySubPingInterval=setInterval(e.proxy(function(){try{this.easySubWinReceiver.postMessage({ping:!0},this.easySubPopupOrigin)}catch(e){}"closed"in this.easySubWinReceiver&&!0===this.easySubWinReceiver.closed&&window.clearInterval(this.easySubPingInterval)},this),1e3)},easySubInitListener:function t(i){var n=e.proxy(function(e){if(e.data.success){var t=e.data.email;this.$inputEl.val(t),this.logEmailPost(t,i)}else this.$buttonEl.data("sumome-disabled",!1),this.$buttonTextEl.text(i.buttonText)},this);window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent&&window.attachEvent("message",n,!1)}};return x}),sumo.define("8dc42610-ae42-4164-90b1-573478b46574/service",["jquery","8dc42610-ae42-4164-90b1-573478b46574/popup"],function(e,t){return function(e){return{init:function i(n,r){if(-1===e.properties.apps.indexOf("8dc42610-ae42-4164-90b1-573478b46574"))return r();sumo.require(["plugins/css!../css/sme-popup.css"],function(){t.api=e,t.load()}),r()},destroy:function e(t){t()}}}}),sumo.define("8dc42610-ae42-4164-90b1-573478b46574/service",function(){})}(void 0,void 0);